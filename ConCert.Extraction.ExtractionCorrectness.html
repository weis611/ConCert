<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<link href="toc.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="toc.html">Table of contents</a>
      <a href="https://github.com/AU-COBRA/ConCert" target="_balnk">Project Page</a>
    </span>
</div>
  <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="js-toc-header" class="toc-header">Contents:</div>
    <div id="js-toc" class="toc" data-toc="h1,h2,h3,h4" data-toc-container="doc">
    </div>
    <div id="main">
<h1 class="libtitle">Library ConCert.Extraction.ExtractionCorrectness</h1>

<div class="code">

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Extraction</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Extraction.ErasureCorrectness.html#"><span class="id" title="library">ErasureCorrectness</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Extraction</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Extraction.ExAst.html#"><span class="id" title="library">ExAst</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Extraction</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Extraction.Extraction.html#"><span class="id" title="library">Extraction</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Extraction</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Extraction.Optimize.html#"><span class="id" title="library">Optimize</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Extraction</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Extraction.OptimizeCorrectness.html#"><span class="id" title="library">OptimizeCorrectness</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Extraction</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Extraction.ResultMonad.html#"><span class="id" title="library">ResultMonad</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Extraction</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Extraction.WcbvEvalAux.html#"><span class="id" title="library">WcbvEvalAux</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="keyword">Equations</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Equations</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Erasure</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">ErasureCorrectness</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Erasure</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">ErasureFunction</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Erasure</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">EWcbvEval</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Erasure</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Extract</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">PCUICAstUtils</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">PCUICSafeLemmata</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">PCUICTyping</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.PCUIC</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">PCUICInversion</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Template</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Kernames</span>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a name="P"><span class="id" title="module">P</span></a> := <span class="id" title="module">PCUICAst</span>.<br/>
<span class="id" title="keyword">Module</span> <a name="E"><span class="id" title="module">E</span></a> := <span class="id" title="module">EAst</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="55b9e37de301c01db51a52fd5b6ba958"><span class="id" title="notation">&quot;</span></a>Σ 'p⊢' s ▷ t" := (<span class="id" title="inductive">PCUICWcbvEval.eval</span> <span class="id" title="var">Σ</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50, <span class="id" title="var">s</span>, <span class="id" title="var">t</span> <span class="id" title="tactic">at</span> <span class="id" title="var">next</span> <span class="id" title="keyword">level</span>) : <span class="id" title="var">type_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="wf_squash"><span class="id" title="lemma">wf_squash</span></a> {<span class="id" title="var">Σ</span>} :<br/>
&nbsp;&nbsp;<span class="id" title="notation">∥</span><span class="id" title="class">wf_ext</span> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a><span class="id" title="notation">∥</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">∥</span><span class="id" title="class">wf</span> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a><span class="id" title="notation">∥</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> []. <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="global_erased_with_deps_erases_deps_tConst"><span class="id" title="lemma">global_erased_with_deps_erases_deps_tConst</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">Σer</span> <span class="id" title="var">kn</span> <span class="id" title="var">cst</span> :<br/>
&nbsp;&nbsp;<span class="id" title="definition">declared_constant</span> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#kn"><span class="id" title="variable">kn</span></a> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#cst"><span class="id" title="variable">cst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">global_erased_with_deps</span> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#7e4b4926bb3fdc27b560241672bdc966"><span class="id" title="variable">Σer</span></a> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#kn"><span class="id" title="variable">kn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="inductive">erases_deps</span> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#7e4b4926bb3fdc27b560241672bdc966"><span class="id" title="variable">Σer</span></a> (<a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#tConst"><span class="id" title="constructor">E.tConst</span></a> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#kn"><span class="id" title="variable">kn</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">decl</span> <span class="id" title="var">glob</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">glob</span> <span class="id" title="keyword">as</span> [(?&amp;?&amp;?&amp;?&amp;?&amp;?)|(?&amp;?&amp;?&amp;?&amp;?)].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <span class="id" title="definition">ETyping.declared_constant</span>, <span class="id" title="definition">ETyping.declared_minductive</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a name="extract_correct"><span class="id" title="lemma">extract_correct</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">wfl</span> := <span class="id" title="definition">opt_wcbv_flags</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Σ</span> : <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#global_env_ext"><span class="id" title="definition">P.global_env_ext</span></a>) (<span class="id" title="var">wfΣ</span> : <span class="id" title="notation">∥</span><span class="id" title="class">wf_ext</span> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a><span class="id" title="notation">∥</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">kn</span> <span class="id" title="var">ui</span> <span class="id" title="var">ind</span> <span class="id" title="var">c</span> <span class="id" title="var">ui'</span> <span class="id" title="var">ignored</span> <span class="id" title="var">exΣ</span> :<br/>
&nbsp;&nbsp;<span class="id" title="definition">axiom_free</span> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="inductive">welltyped</span> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#tConst"><span class="id" title="constructor">P.tConst</span></a> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#kn"><span class="id" title="variable">kn</span></a> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#ui"><span class="id" title="variable">ui</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="ConCert.Extraction.ErasureCorrectness.html#55b9e37de301c01db51a52fd5b6ba958"><span class="id" title="notation">p</span></a><a class="idref" href="ConCert.Extraction.ErasureCorrectness.html#55b9e37de301c01db51a52fd5b6ba958"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#tConst"><span class="id" title="constructor">P.tConst</span></a> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#kn"><span class="id" title="variable">kn</span></a> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#ui"><span class="id" title="variable">ui</span></a> <a class="idref" href="ConCert.Extraction.ErasureCorrectness.html#55b9e37de301c01db51a52fd5b6ba958"><span class="id" title="notation">▷</span></a> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#tConstruct"><span class="id" title="constructor">P.tConstruct</span></a> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#ind"><span class="id" title="variable">ind</span></a> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#ui'"><span class="id" title="variable">ui'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="definition">isErasable</span> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#tConstruct"><span class="id" title="constructor">P.tConstruct</span></a> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#ind"><span class="id" title="variable">ind</span></a> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#ui'"><span class="id" title="variable">ui'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">k</span>, <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#ignored"><span class="id" title="variable">ignored</span></a> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.Extraction.html#extract_pcuic_env"><span class="id" title="definition">extract_pcuic_env</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Extraction.Extraction.html#pcuic_args"><span class="id" title="projection">pcuic_args</span></a> <a class="idref" href="ConCert.Extraction.Extraction.html#extract_within_coq"><span class="id" title="definition">extract_within_coq</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#wf_squash"><span class="id" title="lemma">wf_squash</span></a> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#ca3b665b1bdcb8a58b38a1fe9a659c60"><span class="id" title="variable">wfΣ</span></a>) (<span class="id" title="definition">KernameSet.singleton</span> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#kn"><span class="id" title="variable">kn</span></a>) <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#ignored"><span class="id" title="variable">ignored</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Extraction.ResultMonad.html#Ok"><span class="id" title="constructor">Ok</span></a> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#c30696320c78bdd76260929aaf8335f5"><span class="id" title="variable">exΣ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">∥</span><a class="idref" href="ConCert.Extraction.ExAst.html#trans_env"><span class="id" title="definition">trans_env</span></a> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#c30696320c78bdd76260929aaf8335f5"><span class="id" title="variable">exΣ</span></a> <a class="idref" href="ConCert.Extraction.WcbvEvalAux.html#e49f44d96100960446bedaca1e4a4428"><span class="id" title="notation">e</span></a><a class="idref" href="ConCert.Extraction.WcbvEvalAux.html#e49f44d96100960446bedaca1e4a4428"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#tConst"><span class="id" title="constructor">E.tConst</span></a> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#kn"><span class="id" title="variable">kn</span></a> <a class="idref" href="ConCert.Extraction.WcbvEvalAux.html#e49f44d96100960446bedaca1e4a4428"><span class="id" title="notation">▷</span></a> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#tConstruct"><span class="id" title="constructor">E.tConstruct</span></a> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#ind"><span class="id" title="variable">ind</span></a> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#c"><span class="id" title="variable">c</span></a><span class="id" title="notation">∥</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">ax</span> [<span class="id" title="var">T</span> <span class="id" title="var">wt</span>] <span class="id" title="var">ev</span> <span class="id" title="var">not_erasable</span> <span class="id" title="var">no_ignores</span> <span class="id" title="var">ex</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> -[<span class="id" title="var">dearg_transform</span>] <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="ConCert.Extraction.Optimize.html#dearg_transform"><span class="id" title="definition">dearg_transform</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">dt</span>; <span class="id" title="var">cbn</span> -[<span class="id" title="var">dearg_transform</span>] <span class="id" title="tactic">in</span> *; [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">injection</span> <span class="id" title="var">ex</span> <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">wfΣ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">erases_correct</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ev</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">erv</span>&amp;<span class="id" title="var">erase_to</span>&amp;[<span class="id" title="var">erev</span>]);<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">depelim</span> <span class="id" title="var">erase_to</span>; [|<span class="id" title="var">easy</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Extraction.OptimizeCorrectness.html#dearg_transform_correct"><span class="id" title="lemma">dearg_transform_correct</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="ConCert.Extraction.OptimizePropDiscr.html#optimize_correct"><span class="id" title="lemma">OptimizePropDiscr.optimize_correct</span></a> <span class="id" title="var">_</span> (<span class="id" title="constructor">tConst</span> <span class="id" title="var">kn</span>) (<span class="id" title="constructor">tConstruct</span> <span class="id" title="var">ind</span> <span class="id" title="var">c</span>)).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">inversion_Const</span> <span class="id" title="tactic">in</span> <span class="id" title="var">wt</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?&amp;?&amp;?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#global_erased_with_deps_erases_deps_tConst"><span class="id" title="lemma">global_erased_with_deps_erases_deps_tConst</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="ConCert.Extraction.ErasureCorrectness.html#erase_global_decls_deps_recursive_correct"><span class="id" title="lemma">erase_global_decls_deps_recursive_correct</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> (<a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#wf_squash"><span class="id" title="lemma">wf_squash</span></a> (<span class="id" title="constructor">sq</span> <span class="id" title="var">w</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">KernameSet.singleton</span> <span class="id" title="var">kn</span>)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> ? -&gt;%<span class="id" title="lemma">KernameSet.singleton_spec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">unfold</span> <span class="id" title="definition">declared_constant</span>, <span class="id" title="definition">PCUICAst.fst_ctx</span>, <span class="id" title="definition">fst_ctx</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">KernameSet.singleton_spec</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Print</span> <span class="id" title="keyword">Assumptions</span> <a class="idref" href="ConCert.Extraction.ExtractionCorrectness.html#extract_correct"><span class="id" title="lemma">extract_correct</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;There&nbsp;are&nbsp;some&nbsp;assumptions&nbsp;of&nbsp;which&nbsp;almost&nbsp;all&nbsp;are&nbsp;in&nbsp;MetaCoq.<br/>
&nbsp;&nbsp;&nbsp;From&nbsp;this&nbsp;project&nbsp;is&nbsp;only&nbsp;assume_env_wellformed&nbsp;assumption&nbsp;which&nbsp;is<br/>
&nbsp;&nbsp;&nbsp;used&nbsp;to&nbsp;assume&nbsp;that&nbsp;the&nbsp;environments&nbsp;we&nbsp;extract&nbsp;are<br/>
&nbsp;&nbsp;&nbsp;wellformed.&nbsp;MetaCoq's&nbsp;safe&nbsp;checker&nbsp;does&nbsp;not&nbsp;run&nbsp;from&nbsp;within&nbsp;Coq,&nbsp;so<br/>
&nbsp;&nbsp;&nbsp;we&nbsp;cannot&nbsp;type&nbsp;check&nbsp;the&nbsp;environments.&nbsp;However,&nbsp;our&nbsp;environments<br/>
&nbsp;&nbsp;&nbsp;are&nbsp;unquoted&nbsp;directly&nbsp;from&nbsp;Coq's&nbsp;kernel&nbsp;where&nbsp;they&nbsp;are&nbsp;already<br/>
&nbsp;&nbsp;&nbsp;welltyped,&nbsp;so&nbsp;this&nbsp;is&nbsp;justified&nbsp;(and&nbsp;the&nbsp;same&nbsp;assumption&nbsp;is&nbsp;used&nbsp;in<br/>
&nbsp;&nbsp;&nbsp;MetaCoq&nbsp;when&nbsp;they&nbsp;run&nbsp;their&nbsp;erasure).<br/>
<br/>
&nbsp;&nbsp;&nbsp;The&nbsp;rest&nbsp;of&nbsp;the&nbsp;assumptions&nbsp;are&nbsp;normal&nbsp;MetaCoq&nbsp;assumptions<br/>
&nbsp;&nbsp;&nbsp;(which&nbsp;are&nbsp;justified&nbsp;in&nbsp;Coq&nbsp;Coq&nbsp;Correct!).&nbsp;*)</span><br/>
</div>
</div>
<div id="footer">
  Generated by <a href="https://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a> and <a href="https://github.com/jgallen23/toc">TOC</a>
</div>
</div>
<script>
  const elements = document.getElementsByClassName("libtitle");
  while(elements.length > 0){
        elements[0].parentNode.removeChild(elements[0]);
  }
  if (window.location.pathname.endsWith("/toc.html")) {
      const jstocDiv = document.getElementById("js-toc");
      jstocDiv.classList.remove("toc");
      jstocDiv.classList.add("jstoc-hidden");
      const jstocHeaderDiv = document.getElementById("js-toc-header");
      jstocHeaderDiv.classList.add("jstoc-hidden");
  }
  console.log(window.location.pathname);
</script>
<script type="text/javascript" src="toc.js"></script>
</body>

</html>
