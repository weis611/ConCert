<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<link href="toc.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="toc.html">Table of contents</a>
      <a href="https://github.com/AU-COBRA/ConCert" target="_balnk">Project Page</a>
    </span>
</div>
  <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="js-toc-header" class="toc-header">Contents:</div>
    <div id="js-toc" class="toc" data-toc="h1,h2,h3,h4" data-toc-container="doc">
    </div>
    <div id="main">
<h1 class="libtitle">Library ConCert.Extraction.RustExtract</h1>

<div class="code">

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Extraction</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Extraction.ExAst.html#"><span class="id" title="library">ExAst</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Extraction</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Extraction.ExpandBranches.html#"><span class="id" title="library">ExpandBranches</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Extraction</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Extraction.Extraction.html#"><span class="id" title="library">Extraction</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Extraction</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Extraction.CertifyingInlining.html#"><span class="id" title="library">CertifyingInlining</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Extraction</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Extraction.Optimize.html#"><span class="id" title="library">Optimize</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Extraction</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Extraction.Printing.html#"><span class="id" title="library">Printing</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Extraction</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Extraction.ResultMonad.html#"><span class="id" title="library">ResultMonad</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Extraction</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Extraction.TopLevelFixes.html#"><span class="id" title="library">TopLevelFixes</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.Ascii.html#"><span class="id" title="library">Ascii</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#"><span class="id" title="library">String</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Utils</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Utils.StringExtra.html#"><span class="id" title="library">StringExtra</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Extraction</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#"><span class="id" title="library">PrettyPrinterMonad</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a name="P"><span class="id" title="module">P</span></a> := <span class="id" title="module">MetaCoq.PCUIC.PCUICAst</span>.<br/>
<span class="id" title="keyword">Module</span> <a name="PT"><span class="id" title="module">PT</span></a> := <span class="id" title="module">MetaCoq.PCUIC.PCUICTyping</span>.<br/>
<span class="id" title="keyword">Module</span> <a name="T2P"><span class="id" title="module">T2P</span></a> := <span class="id" title="module">MetaCoq.PCUIC.TemplateToPCUIC</span>.<br/>
<span class="id" title="keyword">Module</span> <a name="E"><span class="id" title="module">E</span></a> := <span class="id" title="module">MetaCoq.Erasure.EAst</span>.<br/>
<span class="id" title="keyword">Module</span> <a name="T"><span class="id" title="module">T</span></a> := <span class="id" title="module">MetaCoq.Template.Ast</span>.<br/>
<span class="id" title="keyword">Module</span> <a name="TUtil"><span class="id" title="module">TUtil</span></a> := <span class="id" title="module">MetaCoq.Template.AstUtils</span>.<br/>
<span class="id" title="keyword">Module</span> <a name="EF"><span class="id" title="module">EF</span></a> := <span class="id" title="module">MetaCoq.Erasure.ErasureFunction</span>.<br/>
<span class="id" title="keyword">Module</span> <a name="Ex"><span class="id" title="module">Ex</span></a> := <a class="idref" href="ConCert.Extraction.ExAst.html#"><span class="id" title="module">ConCert.Extraction.ExAst</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">string</span>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Definition</span> <a name="indent_size"><span class="id" title="definition">indent_size</span></a> := 2.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="FixEnv"><span class="id" title="section">FixEnv</span></a>.<br/>
<span class="id" title="keyword">Context</span> (<span class="id" title="var">Î£</span> : <a class="idref" href="ConCert.Extraction.RustExtract.html#global_env"><span class="id" title="definition">Ex.global_env</span></a>).<br/>
<span class="id" title="keyword">Context</span> (<span class="id" title="var">remaps</span> : <a class="idref" href="ConCert.Extraction.Printing.html#remaps"><span class="id" title="record">remaps</span></a>).<br/>
<span class="comment">(*&nbsp;A&nbsp;printing&nbsp;config&nbsp;for&nbsp;Rust&nbsp;*)</span><br/>
<span class="id" title="keyword">Class</span> <a name="RustPrintConfig"><span class="id" title="record">RustPrintConfig</span></a> :=<br/>
&nbsp;&nbsp;{ <a name="term_box_symbol"><span class="id" title="projection">term_box_symbol</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="type_box_symbol"><span class="id" title="projection">type_box_symbol</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="any_type_symbol"><span class="id" title="projection">any_type_symbol</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="print_full_names"><span class="id" title="projection">print_full_names</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <span class="comment">(*&nbsp;use&nbsp;fully-qualified&nbsp;names&nbsp;as&nbsp;identifiers&nbsp;to&nbsp;avoid&nbsp;name&nbsp;clashes&nbsp;*)</span>}.<br/>

<br/>
<span class="id" title="keyword">Context</span> `{<a class="idref" href="ConCert.Extraction.RustExtract.html#RustPrintConfig"><span class="id" title="class">RustPrintConfig</span></a>}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="ind_attr_map"><span class="id" title="definition">ind_attr_map</span></a> := <span class="id" title="record">inductive</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span> (<span class="id" title="var">ind_attrs</span> : <a class="idref" href="ConCert.Extraction.RustExtract.html#ind_attr_map"><span class="id" title="definition">ind_attr_map</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="lookup_mind"><span class="id" title="definition">lookup_mind</span></a> (<span class="id" title="var">name</span> : <span class="id" title="definition">kername</span>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#mutual_inductive_body"><span class="id" title="record">Ex.mutual_inductive_body</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#lookup_env"><span class="id" title="definition">Ex.lookup_env</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#48fbb50eed203b8a0e482c41c1a3ade4"><span class="id" title="variable">Î£</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#name"><span class="id" title="variable">name</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#InductiveDecl"><span class="id" title="constructor">Ex.InductiveDecl</span></a> <span class="id" title="var">mib</span>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">mib</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="lookup_ind_decl"><span class="id" title="definition">lookup_ind_decl</span></a> (<span class="id" title="var">ind</span> : <span class="id" title="record">inductive</span>) : <a class="idref" href="ConCert.Extraction.ResultMonad.html#result"><span class="id" title="inductive">result</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#one_inductive_body"><span class="id" title="record">Ex.one_inductive_body</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#lookup_env"><span class="id" title="definition">Ex.lookup_env</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#48fbb50eed203b8a0e482c41c1a3ade4"><span class="id" title="variable">Î£</span></a> (<span class="id" title="projection">inductive_mind</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#ind"><span class="id" title="variable">ind</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#InductiveDecl"><span class="id" title="constructor">Ex.InductiveDecl</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#Build_mutual_inductive_body"><span class="id" title="constructor">{|</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#Build_mutual_inductive_body"><span class="id" title="constructor">Ex.ind_bodies</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#Build_mutual_inductive_body"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#Build_mutual_inductive_body"><span class="id" title="constructor">oibs</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#Build_mutual_inductive_body"><span class="id" title="constructor">|}</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">oibs</span> (<span class="id" title="projection">inductive_ind</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#ind"><span class="id" title="variable">ind</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">body</span> =&gt; <span class="id" title="method">ret</span> <span class="id" title="var">body</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="ConCert.Extraction.ResultMonad.html#Err"><span class="id" title="constructor">Err</span></a> ("Could not find inductive "<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <a class="idref" href="ConCert.Utils.StringExtra.html#string_of_nat"><span class="id" title="definition">string_of_nat</span></a> (<span class="id" title="projection">inductive_ind</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#ind"><span class="id" title="variable">ind</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> " in mutual inductive " <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <span class="id" title="definition">string_of_kername</span> (<span class="id" title="projection">inductive_mind</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#ind"><span class="id" title="variable">ind</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="ConCert.Extraction.ResultMonad.html#Err"><span class="id" title="constructor">Err</span></a> ("Could not find inductive "<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <span class="id" title="definition">string_of_kername</span> (<span class="id" title="projection">inductive_mind</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#ind"><span class="id" title="variable">ind</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> " in environment")<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;We&nbsp;clean&nbsp;global&nbsp;identifiers&nbsp;but&nbsp;do&nbsp;not&nbsp;generate&nbsp;any&nbsp;form&nbsp;of&nbsp;fresh&nbsp;names<br/>
&nbsp;&nbsp;&nbsp;to&nbsp;make&nbsp;it&nbsp;straightforward&nbsp;to&nbsp;know&nbsp;what&nbsp;extracted&nbsp;code&nbsp;maps&nbsp;to&nbsp;what.&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="clean_global_ident"><span class="id" title="definition">clean_global_ident</span></a> (<span class="id" title="var">s</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Utils.StringExtra.html#replace_char"><span class="id" title="definition">replace_char</span></a> "." "_" (<a class="idref" href="ConCert.Utils.StringExtra.html#replace_char"><span class="id" title="definition">replace_char</span></a> "'" "_" <a class="idref" href="ConCert.Extraction.RustExtract.html#s"><span class="id" title="variable">s</span></a>).<br/>

<br/>
<span class="comment">(*&nbsp;Get&nbsp;identifier&nbsp;for&nbsp;a&nbsp;global&nbsp;constant&nbsp;function&nbsp;given&nbsp;its&nbsp;kername,&nbsp;without<br/>
&nbsp;&nbsp;&nbsp;taking&nbsp;remappings&nbsp;into&nbsp;account&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="const_global_ident_of_kername"><span class="id" title="definition">const_global_ident_of_kername</span></a> (<span class="id" title="var">kn</span> : <span class="id" title="definition">kername</span>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#clean_global_ident"><span class="id" title="definition">clean_global_ident</span></a> (<span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#print_full_names"><span class="id" title="method">print_full_names</span></a> <span class="id" title="keyword">then</span> <span class="id" title="definition">string_of_kername</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#kn"><span class="id" title="variable">kn</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#kn"><span class="id" title="variable">kn</span></a><span class="id" title="notation">.2</span>).<br/>

<br/>
<span class="comment">(*&nbsp;Get&nbsp;identifier&nbsp;for&nbsp;a&nbsp;global&nbsp;constant&nbsp;meant&nbsp;to&nbsp;be&nbsp;used&nbsp;as&nbsp;a&nbsp;type,&nbsp;without<br/>
&nbsp;&nbsp;&nbsp;taking&nbsp;remappings&nbsp;into&nbsp;account.&nbsp;This&nbsp;is&nbsp;also&nbsp;used&nbsp;for&nbsp;<span class="inlinecode"><span class="id" title="var">inductive</span></span>.&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="ty_const_global_ident_of_kername"><span class="id" title="definition">ty_const_global_ident_of_kername</span></a> (<span class="id" title="var">kn</span> : <span class="id" title="definition">kername</span>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Utils.StringExtra.html#capitalize"><span class="id" title="definition">capitalize</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#clean_global_ident"><span class="id" title="definition">clean_global_ident</span></a> (<span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#print_full_names"><span class="id" title="method">print_full_names</span></a> <span class="id" title="keyword">then</span> <span class="id" title="definition">string_of_kername</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#kn"><span class="id" title="variable">kn</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#kn"><span class="id" title="variable">kn</span></a><span class="id" title="notation">.2</span>)).<br/>

<br/>
<span class="comment">(*&nbsp;Get&nbsp;identifier&nbsp;for&nbsp;a&nbsp;global&nbsp;type&nbsp;alias&nbsp;taking&nbsp;remappings&nbsp;into&nbsp;account&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="get_ty_const_ident"><span class="id" title="definition">get_ty_const_ident</span></a> (<span class="id" title="var">name</span> : <span class="id" title="definition">kername</span>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Extraction.Printing.html#remap_inline_constant"><span class="id" title="projection">remap_inline_constant</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#FixEnv.remaps"><span class="id" title="variable">remaps</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#name"><span class="id" title="variable">name</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">s</span> =&gt; <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="ConCert.Extraction.RustExtract.html#ty_const_global_ident_of_kername"><span class="id" title="definition">ty_const_global_ident_of_kername</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#name"><span class="id" title="variable">name</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Get&nbsp;identifier&nbsp;for&nbsp;an&nbsp;inductive&nbsp;taking&nbsp;remappings&nbsp;into&nbsp;account&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="get_ind_ident"><span class="id" title="definition">get_ind_ident</span></a> (<span class="id" title="var">ind</span> : <span class="id" title="record">inductive</span>) : <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#PrettyPrinter"><span class="id" title="definition">PrettyPrinter</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Extraction.Printing.html#remap_inductive"><span class="id" title="projection">remap_inductive</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#FixEnv.remaps"><span class="id" title="variable">remaps</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#ind"><span class="id" title="variable">ind</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">rem</span> =&gt; <span class="id" title="method">ret</span> (<a class="idref" href="ConCert.Extraction.Printing.html#re_ind_name"><span class="id" title="projection">re_ind_name</span></a> <span class="id" title="var">rem</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">oib</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#wrap_result"><span class="id" title="definition">wrap_result</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#lookup_ind_decl"><span class="id" title="definition">lookup_ind_decl</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#ind"><span class="id" title="variable">ind</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">kn</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="notation">(</span><span class="id" title="projection">inductive_mind</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#ind"><span class="id" title="variable">ind</span></a><span class="id" title="notation">).1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#ind_name"><span class="id" title="projection">Ex.ind_name</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#oib"><span class="id" title="variable">oib</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">ret</span> (<a class="idref" href="ConCert.Extraction.RustExtract.html#ty_const_global_ident_of_kername"><span class="id" title="definition">ty_const_global_ident_of_kername</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#kn"><span class="id" title="variable">kn</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Fine&nbsp;to&nbsp;remove&nbsp;primes&nbsp;here&nbsp;as&nbsp;we&nbsp;generate&nbsp;fresh&nbsp;names&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="clean_local_ident"><span class="id" title="definition">clean_local_ident</span></a> (<span class="id" title="var">name</span> : <span class="id" title="definition">ident</span>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Utils.StringExtra.html#remove_char"><span class="id" title="definition">remove_char</span></a> "'" <a class="idref" href="ConCert.Extraction.RustExtract.html#name"><span class="id" title="variable">name</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="is_polymorphic"><span class="id" title="definition">is_polymorphic</span></a> (<span class="id" title="var">cst</span> : <a class="idref" href="ConCert.Extraction.RustExtract.html#constant_body"><span class="id" title="record">Ex.constant_body</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="notation">#|</span><span class="id" title="notation">(</span><a class="idref" href="ConCert.Extraction.RustExtract.html#cst_type"><span class="id" title="projection">Ex.cst_type</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#cst"><span class="id" title="variable">cst</span></a><span class="id" title="notation">).1</span><span class="id" title="notation">|</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="print_ind"><span class="id" title="definition">print_ind</span></a> (<span class="id" title="var">ind</span> : <span class="id" title="record">inductive</span>) : <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#PrettyPrinter"><span class="id" title="definition">PrettyPrinter</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#get_ind_ident"><span class="id" title="definition">get_ind_ident</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#ind"><span class="id" title="variable">ind</span></a> <span class="id" title="notation">&gt;&gt;=</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="print_parenthesized"><span class="id" title="definition">print_parenthesized</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">parenthesize</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">print</span> : <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#PrettyPrinter"><span class="id" title="definition">PrettyPrinter</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>) : <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#PrettyPrinter"><span class="id" title="definition">PrettyPrinter</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#parenthesize"><span class="id" title="variable">parenthesize</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "("<span class="id" title="notation">;;</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#print"><span class="id" title="variable">print</span></a><span class="id" title="notation">;;</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> ")"<br/>
&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#print"><span class="id" title="variable">print</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="print_parenthesized_with"><span class="id" title="definition">print_parenthesized_with</span></a> <span class="id" title="var">par_start</span> <span class="id" title="var">par_end</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<span class="id" title="var">parenthesize</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<span class="id" title="var">print</span> : <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#PrettyPrinter"><span class="id" title="definition">PrettyPrinter</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>) =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#parenthesize"><span class="id" title="variable">parenthesize</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#par_start"><span class="id" title="variable">par_start</span></a><span class="id" title="notation">;;</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#print"><span class="id" title="variable">print</span></a><span class="id" title="notation">;;</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#par_end"><span class="id" title="variable">par_end</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#print"><span class="id" title="variable">print</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="parenthesize_app_head"><span class="id" title="definition">parenthesize_app_head</span></a> (<span class="id" title="var">t</span> : <span class="id" title="inductive">term</span>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="constructor">tLambda</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;| <span class="id" title="constructor">tLetIn</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;| <span class="id" title="constructor">tCase</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;| <span class="id" title="constructor">tFix</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="parenthesize_app_arg"><span class="id" title="definition">parenthesize_app_arg</span></a> (<span class="id" title="var">t</span> : <span class="id" title="inductive">term</span>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="constructor">tLambda</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;| <span class="id" title="constructor">tLetIn</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;| <span class="id" title="constructor">tApp</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;| <span class="id" title="constructor">tCase</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;| <span class="id" title="constructor">tProj</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;| <span class="id" title="constructor">tFix</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="parenthesize_case_discriminee"><span class="id" title="definition">parenthesize_case_discriminee</span></a> (<span class="id" title="var">t</span> : <span class="id" title="inductive">term</span>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="constructor">tLetIn</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;| <span class="id" title="constructor">tCase</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fresh"><span class="id" title="definition">fresh</span></a> (<span class="id" title="var">name</span> : <span class="id" title="definition">ident</span>) (<span class="id" title="var">used</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <span class="id" title="definition">ident</span>) : <span class="id" title="definition">ident</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#existsb"><span class="id" title="definition">existsb</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#eqb"><span class="id" title="definition">String.eqb</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#name"><span class="id" title="variable">name</span></a>) <a class="idref" href="ConCert.Extraction.RustExtract.html#used"><span class="id" title="variable">used</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fix</span> <span class="id" title="var">f</span> <span class="id" title="var">n</span> <span class="id" title="var">i</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; "unreachable"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">numbered_name</span> := <a class="idref" href="ConCert.Extraction.RustExtract.html#name"><span class="id" title="variable">name</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <a class="idref" href="ConCert.Utils.StringExtra.html#string_of_nat"><span class="id" title="definition">string_of_nat</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#existsb"><span class="id" title="definition">existsb</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#eqb"><span class="id" title="definition">String.eqb</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#numbered_name"><span class="id" title="variable">numbered_name</span></a>) <a class="idref" href="ConCert.Extraction.RustExtract.html#used"><span class="id" title="variable">used</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#i"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#numbered_name"><span class="id" title="variable">numbered_name</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#used"><span class="id" title="variable">used</span></a>)) 2<br/>
&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#name"><span class="id" title="variable">name</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fresh_ident"><span class="id" title="definition">fresh_ident</span></a> (<span class="id" title="var">name</span> : <span class="id" title="inductive">name</span>) (<span class="id" title="var">Î</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <span class="id" title="definition">ident</span>) : <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#PrettyPrinter"><span class="id" title="definition">PrettyPrinter</span></a> <span class="id" title="definition">ident</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">used_names</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#get_used_names"><span class="id" title="definition">get_used_names</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#name"><span class="id" title="variable">name</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="constructor">nAnon</span> =&gt; <span class="id" title="method">ret</span> (<a class="idref" href="ConCert.Extraction.RustExtract.html#fresh"><span class="id" title="definition">fresh</span></a> "x" (<a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#used_names"><span class="id" title="variable">used_names</span></a>))<br/>
&nbsp;&nbsp;| <span class="id" title="constructor">nNamed</span> <span class="id" title="var">name</span> =&gt; <span class="id" title="method">ret</span> (<a class="idref" href="ConCert.Extraction.RustExtract.html#fresh"><span class="id" title="definition">fresh</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#clean_local_ident"><span class="id" title="definition">clean_local_ident</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#name"><span class="id" title="variable">name</span></a>) (<a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#used_names"><span class="id" title="variable">used_names</span></a>))<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fresh_ty_arg_name"><span class="id" title="definition">fresh_ty_arg_name</span></a> (<span class="id" title="var">name</span> : <span class="id" title="inductive">name</span>) (<span class="id" title="var">Î</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <span class="id" title="definition">ident</span>) : <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#PrettyPrinter"><span class="id" title="definition">PrettyPrinter</span></a> <span class="id" title="definition">ident</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">used_names</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#get_used_names"><span class="id" title="definition">get_used_names</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#name"><span class="id" title="variable">name</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="constructor">nAnon</span> =&gt; <span class="id" title="method">ret</span> (<a class="idref" href="ConCert.Extraction.RustExtract.html#fresh"><span class="id" title="definition">fresh</span></a> "a" (<a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#used_names"><span class="id" title="variable">used_names</span></a>))<br/>
&nbsp;&nbsp;| <span class="id" title="constructor">nNamed</span> <span class="id" title="var">name</span> =&gt; <span class="id" title="method">ret</span> (<a class="idref" href="ConCert.Extraction.RustExtract.html#fresh"><span class="id" title="definition">fresh</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#clean_local_ident"><span class="id" title="definition">clean_local_ident</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#name"><span class="id" title="variable">name</span></a>) (<a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#used_names"><span class="id" title="variable">used_names</span></a>))<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="parenthesize_ty_app_arg"><span class="id" title="definition">parenthesize_ty_app_arg</span></a> (<span class="id" title="var">t</span> : <a class="idref" href="ConCert.Extraction.ExAst.html#box_type"><span class="id" title="inductive">box_type</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Extraction.ExAst.html#TApp"><span class="id" title="constructor">TApp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="print_type_aux"><span class="id" title="definition">print_type_aux</span></a> (<span class="id" title="var">Î</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <span class="id" title="definition">ident</span>) (<span class="id" title="var">t</span> : <a class="idref" href="ConCert.Extraction.ExAst.html#box_type"><span class="id" title="inductive">box_type</span></a>) (<span class="id" title="var">args</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#PrettyPrinter"><span class="id" title="definition">PrettyPrinter</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>)) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Extraction.ExAst.html#TBox"><span class="id" title="constructor">TBox</span></a> =&gt; <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#type_box_symbol"><span class="id" title="method">type_box_symbol</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Extraction.ExAst.html#TAny"><span class="id" title="constructor">TAny</span></a> =&gt; <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#any_type_symbol"><span class="id" title="method">any_type_symbol</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Extraction.ExAst.html#TArr"><span class="id" title="constructor">TArr</span></a> <span class="id" title="var">dom</span> <span class="id" title="var">cod</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "&amp;'a dyn Fn("<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#print_type_aux"><span class="id" title="definition">print_type_aux</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a> <span class="id" title="var">dom</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> ") -&gt; "<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#print_type_aux"><span class="id" title="definition">print_type_aux</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a> <span class="id" title="var">cod</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Extraction.ExAst.html#TApp"><span class="id" title="constructor">TApp</span></a> <span class="id" title="var">head</span> <span class="id" title="var">arg</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#print_type_aux"><span class="id" title="definition">print_type_aux</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a> <span class="id" title="var">head</span> (<a class="idref" href="ConCert.Extraction.RustExtract.html#print_type_aux"><span class="id" title="definition">print_type_aux</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a> <span class="id" title="var">arg</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#args"><span class="id" title="variable">args</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Extraction.ExAst.html#TVar"><span class="id" title="constructor">TVar</span></a> <span class="id" title="var">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a> <span class="id" title="var">n</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">name</span> =&gt; <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> <span class="id" title="var">name</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#printer_fail"><span class="id" title="definition">printer_fail</span></a> ("unbound TVar " <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <a class="idref" href="ConCert.Utils.StringExtra.html#string_of_nat"><span class="id" title="definition">string_of_nat</span></a> <span class="id" title="var">n</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Extraction.ExAst.html#TInd"><span class="id" title="constructor">TInd</span></a> <span class="id" title="var">ind</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Extraction.Printing.html#remap_inductive"><span class="id" title="projection">remap_inductive</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#FixEnv.remaps"><span class="id" title="variable">remaps</span></a> <span class="id" title="var">ind</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#print_ind"><span class="id" title="definition">print_ind</span></a> <span class="id" title="var">ind</span><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#print_parenthesized_with"><span class="id" title="definition">print_parenthesized_with</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&lt;" "&gt;"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(0 <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="notation">#|</span><a class="idref" href="ConCert.Extraction.RustExtract.html#args"><span class="id" title="variable">args</span></a><span class="id" title="notation">|</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#monad_append_join"><span class="id" title="definition">monad_append_join</span></a> (<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> ", ") <a class="idref" href="ConCert.Extraction.RustExtract.html#args"><span class="id" title="variable">args</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "&amp;'a "<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#print_ind"><span class="id" title="definition">print_ind</span></a> <span class="id" title="var">ind</span><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "&lt;"<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#monad_append_join"><span class="id" title="definition">monad_append_join</span></a> (<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> ", ") (<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "'a" <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#args"><span class="id" title="variable">args</span></a>)<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "&gt;"<br/>
<br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Extraction.ExAst.html#TConst"><span class="id" title="constructor">TConst</span></a> <span class="id" title="var">name</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#get_ty_const_ident"><span class="id" title="definition">get_ty_const_ident</span></a> <span class="id" title="var">name</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> "&lt;")<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#monad_append_join"><span class="id" title="definition">monad_append_join</span></a> (<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> ", ") (<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "'a" <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#args"><span class="id" title="variable">args</span></a>)<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "&gt;"<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="print_type"><span class="id" title="definition">print_type</span></a> <span class="id" title="var">Î</span> <span class="id" title="var">t</span> := <a class="idref" href="ConCert.Extraction.RustExtract.html#print_type_aux"><span class="id" title="definition">print_type_aux</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;Get&nbsp;number&nbsp;of&nbsp;arguments&nbsp;that&nbsp;a&nbsp;constant&nbsp;expects&nbsp;when&nbsp;we&nbsp;print&nbsp;it&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="get_num_inline_args"><span class="id" title="definition">get_num_inline_args</span></a> (<span class="id" title="var">kn</span> : <span class="id" title="definition">kername</span>) : <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#PrettyPrinter"><span class="id" title="definition">PrettyPrinter</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">cst</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#wrap_option"><span class="id" title="definition">wrap_option</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Extraction.RustExtract.html#lookup_constant"><span class="id" title="definition">Ex.lookup_constant</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#48fbb50eed203b8a0e482c41c1a3ade4"><span class="id" title="variable">Î£</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#kn"><span class="id" title="variable">kn</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("Could not find constant " <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <span class="id" title="definition">string_of_kername</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#kn"><span class="id" title="variable">kn</span></a>)<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#cst_body"><span class="id" title="projection">Ex.cst_body</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#cst"><span class="id" title="variable">cst</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <span class="id" title="method">ret</span> <span class="id" title="notation">#|</span><span class="id" title="notation">(</span><a class="idref" href="ConCert.Extraction.ExAst.html#decompose_arr"><span class="id" title="definition">decompose_arr</span></a> <span class="id" title="notation">(</span><a class="idref" href="ConCert.Extraction.RustExtract.html#cst_type"><span class="id" title="projection">Ex.cst_type</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#cst"><span class="id" title="variable">cst</span></a><span class="id" title="notation">).2</span><span class="id" title="notation">).1</span><span class="id" title="notation">|</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">body</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">fix</span> <span class="id" title="var">count</span> <span class="id" title="var">body</span> <span class="id" title="var">ty</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#body"><span class="id" title="variable">body</span></a>, <a class="idref" href="ConCert.Extraction.RustExtract.html#ty"><span class="id" title="variable">ty</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">tLambda</span> <span class="id" title="var">_</span> <span class="id" title="var">body</span>, <a class="idref" href="ConCert.Extraction.ExAst.html#TArr"><span class="id" title="constructor">TArr</span></a> <span class="id" title="var">dom</span> <span class="id" title="var">cod</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#count"><span class="id" title="variable">count</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#body"><span class="id" title="variable">body</span></a> <span class="id" title="var">cod</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> =&gt; 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">ret</span> (<a class="idref" href="ConCert.Extraction.RustExtract.html#count"><span class="id" title="variable">count</span></a> <span class="id" title="var">body</span> <span class="id" title="notation">(</span><a class="idref" href="ConCert.Extraction.RustExtract.html#cst_type"><span class="id" title="projection">Ex.cst_type</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#cst"><span class="id" title="variable">cst</span></a><span class="id" title="notation">).2</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="print_app"><span class="id" title="definition">print_app</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">head</span> : <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#PrettyPrinter"><span class="id" title="definition">PrettyPrinter</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">args</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#PrettyPrinter"><span class="id" title="definition">PrettyPrinter</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>)) : <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#PrettyPrinter"><span class="id" title="definition">PrettyPrinter</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">col</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#get_current_line_length"><span class="id" title="definition">get_current_line_length</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#head"><span class="id" title="variable">head</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#push_indent"><span class="id" title="definition">push_indent</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#col"><span class="id" title="variable">col</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#indent_size"><span class="id" title="definition">indent_size</span></a>)<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "("<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">if</span> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="notation">#|</span><a class="idref" href="ConCert.Extraction.RustExtract.html#args"><span class="id" title="variable">args</span></a><span class="id" title="notation">|</span> <span class="id" title="keyword">then</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a> <span class="id" title="keyword">else</span> <span class="id" title="method">ret</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><span class="id" title="notation">);;</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#monad_append_join"><span class="id" title="definition">monad_append_join</span></a> (<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> ","<span class="id" title="notation">;;</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a>) <a class="idref" href="ConCert.Extraction.RustExtract.html#args"><span class="id" title="variable">args</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> ")"<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#pop_indent"><span class="id" title="definition">pop_indent</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="print_constructor"><span class="id" title="definition">print_constructor</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ind</span> : <span class="id" title="record">inductive</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">c</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">args</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#PrettyPrinter"><span class="id" title="definition">PrettyPrinter</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>)) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Extraction.Printing.html#remap_inductive"><span class="id" title="projection">remap_inductive</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#FixEnv.remaps"><span class="id" title="variable">remaps</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#ind"><span class="id" title="variable">ind</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">rem</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">s</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#wrap_option"><span class="id" title="definition">wrap_option</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="ConCert.Extraction.Printing.html#re_ind_ctors"><span class="id" title="projection">re_ind_ctors</span></a> <span class="id" title="var">rem</span>) <a class="idref" href="ConCert.Extraction.RustExtract.html#c"><span class="id" title="variable">c</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">string_of_inductive</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#ind"><span class="id" title="variable">ind</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">^</span> "' does not remap enough constructors ")<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="notation">#|</span><a class="idref" href="ConCert.Extraction.RustExtract.html#args"><span class="id" title="variable">args</span></a><span class="id" title="notation">|</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#print_app"><span class="id" title="definition">print_app</span></a> (<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="ConCert.Extraction.RustExtract.html#args"><span class="id" title="variable">args</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#s"><span class="id" title="variable">s</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">oib</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#wrap_result"><span class="id" title="definition">wrap_result</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#lookup_ind_decl"><span class="id" title="definition">lookup_ind_decl</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#ind"><span class="id" title="variable">ind</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">ctor</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#wrap_option"><span class="id" title="definition">wrap_option</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#ind_ctors"><span class="id" title="projection">Ex.ind_ctors</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#oib"><span class="id" title="variable">oib</span></a>) <a class="idref" href="ConCert.Extraction.RustExtract.html#c"><span class="id" title="variable">c</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("Could not find ctor "<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">^</span> <a class="idref" href="ConCert.Utils.StringExtra.html#string_of_nat"><span class="id" title="definition">string_of_nat</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#c"><span class="id" title="variable">c</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">^</span> " for inductive "<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">^</span> <span class="id" title="definition">string_of_inductive</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#ind"><span class="id" title="variable">ind</span></a>)<span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">col</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#get_current_line_length"><span class="id" title="definition">get_current_line_length</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#push_indent"><span class="id" title="definition">push_indent</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#col"><span class="id" title="variable">col</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#indent_size"><span class="id" title="definition">indent_size</span></a>)<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "self.alloc("<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">head</span> := <a class="idref" href="ConCert.Extraction.RustExtract.html#print_ind"><span class="id" title="definition">print_ind</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#ind"><span class="id" title="variable">ind</span></a><span class="id" title="notation">;;</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "::"<span class="id" title="notation">;;</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#clean_global_ident"><span class="id" title="definition">clean_global_ident</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#ctor"><span class="id" title="variable">ctor</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">final_args</span> := <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "PhantomData" <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#args"><span class="id" title="variable">args</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#print_app"><span class="id" title="definition">print_app</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#head"><span class="id" title="variable">head</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#final_args"><span class="id" title="variable">final_args</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> ")"<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#pop_indent"><span class="id" title="definition">pop_indent</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="print_const"><span class="id" title="definition">print_const</span></a> (<span class="id" title="var">kn</span> : <span class="id" title="definition">kername</span>) (<span class="id" title="var">args</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#PrettyPrinter"><span class="id" title="definition">PrettyPrinter</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>)) : <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#PrettyPrinter"><span class="id" title="definition">PrettyPrinter</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">num_inline_args</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#get_num_inline_args"><span class="id" title="definition">get_num_inline_args</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#kn"><span class="id" title="variable">kn</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">expr</span>, <span class="id" title="var">num_inline_args</span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="notation">#|</span><a class="idref" href="ConCert.Extraction.RustExtract.html#args"><span class="id" title="variable">args</span></a><span class="id" title="notation">|</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#num_inline_args"><span class="id" title="variable">num_inline_args</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Not&nbsp;enough&nbsp;args,&nbsp;use&nbsp;curried&nbsp;version&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>"self." <span class="id" title="notation">^</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#const_global_ident_of_kername"><span class="id" title="definition">const_global_ident_of_kername</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#kn"><span class="id" title="variable">kn</span></a> <span class="id" title="notation">^</span> "__curried"<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Extraction.Printing.html#remap_inline_constant"><span class="id" title="projection">remap_inline_constant</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#FixEnv.remaps"><span class="id" title="variable">remaps</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#kn"><span class="id" title="variable">kn</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">s</span> =&gt; <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; "self." <span class="id" title="notation">^</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#const_global_ident_of_kername"><span class="id" title="definition">const_global_ident_of_kername</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#kn"><span class="id" title="variable">kn</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#num_inline_args"><span class="id" title="variable">num_inline_args</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">head_col</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#get_current_line_length"><span class="id" title="definition">get_current_line_length</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">head</span> := <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#expr"><span class="id" title="variable">expr</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">args_in_head</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#num_inline_args"><span class="id" title="variable">num_inline_args</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#args"><span class="id" title="variable">args</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">args_in_tail</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#num_inline_args"><span class="id" title="variable">num_inline_args</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#args"><span class="id" title="variable">args</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#print_app"><span class="id" title="definition">print_app</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#head"><span class="id" title="variable">head</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#args_in_head"><span class="id" title="variable">args_in_head</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#push_indent"><span class="id" title="definition">push_indent</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#head_col"><span class="id" title="variable">head_col</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#indent_size"><span class="id" title="definition">indent_size</span></a>)<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">it_app</span> <span class="id" title="var">a</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "("<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#a"><span class="id" title="variable">a</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> ")" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#monad_append_concat"><span class="id" title="definition">monad_append_concat</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#it_app"><span class="id" title="variable">it_app</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#args_in_tail"><span class="id" title="variable">args_in_tail</span></a>)<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#pop_indent"><span class="id" title="definition">pop_indent</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="FixEnv.print_term"><span class="id" title="section">print_term</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<span class="id" title="var">print_term</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <span class="id" title="definition">ident</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="inductive">term</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#PrettyPrinter"><span class="id" title="definition">PrettyPrinter</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="print_case"><span class="id" title="definition">print_case</span></a> <span class="id" title="var">Î</span> <span class="id" title="var">ind</span> <span class="id" title="var">npars</span> <span class="id" title="var">discr</span> <span class="id" title="var">brs</span> : <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#PrettyPrinter"><span class="id" title="definition">PrettyPrinter</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">col</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#get_current_line_length"><span class="id" title="definition">get_current_line_length</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#push_indent"><span class="id" title="definition">push_indent</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#col"><span class="id" title="variable">col</span></a><span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "match "<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#FixEnv.print_term.print_term"><span class="id" title="variable">print_term</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#discr"><span class="id" title="variable">discr</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> " {"<span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">oib</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#wrap_result"><span class="id" title="definition">wrap_result</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#lookup_ind_decl"><span class="id" title="definition">lookup_ind_decl</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#ind"><span class="id" title="variable">ind</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">rem</span> := <a class="idref" href="ConCert.Extraction.Printing.html#remap_inductive"><span class="id" title="projection">remap_inductive</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#FixEnv.remaps"><span class="id" title="variable">remaps</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#ind"><span class="id" title="variable">ind</span></a> <span class="id" title="tactic">in</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#push_indent"><span class="id" title="definition">push_indent</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#col"><span class="id" title="variable">col</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#indent_size"><span class="id" title="definition">indent_size</span></a>)<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fix</span> <span class="id" title="var">print_cases</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">brs</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <span class="id" title="notation">Ã</span> <span class="id" title="inductive">term</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ctors</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<span class="id" title="definition">ident</span> <span class="id" title="notation">Ã</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<span class="id" title="inductive">name</span> <span class="id" title="notation">Ã</span> <a class="idref" href="ConCert.Extraction.ExAst.html#box_type"><span class="id" title="inductive">box_type</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">c</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#brs"><span class="id" title="variable">brs</span></a>, <a class="idref" href="ConCert.Extraction.RustExtract.html#ctors"><span class="id" title="variable">ctors</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt; <span class="id" title="method">ret</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">arity</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">branches</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">ctor_name</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">data</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">ctors</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#rem"><span class="id" title="variable">rem</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">rem</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">s</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#wrap_option"><span class="id" title="definition">wrap_option</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="ConCert.Extraction.Printing.html#re_ind_ctors"><span class="id" title="projection">re_ind_ctors</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#rem"><span class="id" title="variable">rem</span></a>) <a class="idref" href="ConCert.Extraction.RustExtract.html#c"><span class="id" title="variable">c</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">string_of_inductive</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#ind"><span class="id" title="variable">ind</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">^</span> "' does not remap enough constructors")<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#s"><span class="id" title="variable">s</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "&amp;"<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#print_ind"><span class="id" title="definition">print_ind</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#ind"><span class="id" title="variable">ind</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "::"<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#clean_global_ident"><span class="id" title="definition">clean_global_ident</span></a> <span class="id" title="var">ctor_name</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#push_indent"><span class="id" title="definition">push_indent</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#col"><span class="id" title="variable">col</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 2<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Peano.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">*</span></a><a class="idref" href="ConCert.Extraction.RustExtract.html#indent_size"><span class="id" title="definition">indent_size</span></a>)<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fix</span> <span class="id" title="var">print_branch</span> (<span class="id" title="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">Î</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <span class="id" title="definition">ident</span>) (<span class="id" title="var">t</span> : <span class="id" title="inductive">term</span>) {<span class="id" title="keyword">struct</span> <span class="id" title="var">t</span>} :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#n"><span class="id" title="variable">n</span></a>, <a class="idref" href="ConCert.Extraction.RustExtract.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0, <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;In&nbsp;Coq,&nbsp;parameters&nbsp;are&nbsp;not&nbsp;part&nbsp;of&nbsp;branches.&nbsp;But<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;erasure&nbsp;adds&nbsp;the&nbsp;parameters&nbsp;to&nbsp;each&nbsp;constructor,&nbsp;so&nbsp;we<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;need&nbsp;to&nbsp;get&nbsp;those&nbsp;out&nbsp;of&nbsp;the&nbsp;way&nbsp;first.&nbsp;These&nbsp;won't&nbsp;have<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;any&nbsp;uses&nbsp;so&nbsp;we&nbsp;just&nbsp;print&nbsp;_.&nbsp;In&nbsp;addition,&nbsp;we&nbsp;add&nbsp;a&nbsp;phantom<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data&nbsp;when&nbsp;not&nbsp;remapped&nbsp;to&nbsp;make&nbsp;it&nbsp;valid&nbsp;to&nbsp;always&nbsp;have<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lifetimes.&nbsp;That&nbsp;gives&nbsp;another&nbsp;underscores.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">nextra</span> := <span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#rem"><span class="id" title="variable">rem</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#npars"><span class="id" title="variable">npars</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#npars"><span class="id" title="variable">npars</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">extra</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#repeat"><span class="id" title="definition">List.repeat</span></a> "_" <a class="idref" href="ConCert.Extraction.RustExtract.html#nextra"><span class="id" title="variable">nextra</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">args</span> := (<a class="idref" href="ConCert.Extraction.RustExtract.html#extra"><span class="id" title="variable">extra</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="definition">rev</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a> <span class="id" title="var">arity</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a>))%<span class="id" title="var">list</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#print_parenthesized"><span class="id" title="definition">print_parenthesized</span></a> (0 <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="notation">#|</span><a class="idref" href="ConCert.Extraction.RustExtract.html#args"><span class="id" title="variable">args</span></a><span class="id" title="notation">|</span>) (<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_join"><span class="id" title="definition">append_join</span></a> ", " <a class="idref" href="ConCert.Extraction.RustExtract.html#args"><span class="id" title="variable">args</span></a>)<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> " =&gt; {"<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#FixEnv.print_term.print_term"><span class="id" title="variable">print_term</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#t"><span class="id" title="variable">t</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>, <span class="id" title="constructor">tLambda</span> <span class="id" title="var">name</span> <span class="id" title="var">t</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">name</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#fresh_ident"><span class="id" title="definition">fresh_ident</span></a> <span class="id" title="var">name</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#print_branch"><span class="id" title="variable">print_branch</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#name"><span class="id" title="variable">name</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a>) <a class="idref" href="ConCert.Extraction.RustExtract.html#t"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> =&gt; <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#printer_fail"><span class="id" title="definition">printer_fail</span></a> "Could not decompose case branch"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) <span class="id" title="var">arity</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a> <span class="id" title="var">t</span><span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#pop_indent"><span class="id" title="definition">pop_indent</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "},"<span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#print_cases"><span class="id" title="variable">print_cases</span></a> <span class="id" title="var">branches</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#ctors"><span class="id" title="variable">ctors</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#c"><span class="id" title="variable">c</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> =&gt; <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#printer_fail"><span class="id" title="definition">printer_fail</span></a> "wrong number of case branches compared to inductive"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) <a class="idref" href="ConCert.Extraction.RustExtract.html#brs"><span class="id" title="variable">brs</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#ind_ctors"><span class="id" title="projection">Ex.ind_ctors</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#oib"><span class="id" title="variable">oib</span></a>) 0<span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#pop_indent"><span class="id" title="definition">pop_indent</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "}"<span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#pop_indent"><span class="id" title="definition">pop_indent</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="print_remapped_case"><span class="id" title="definition">print_remapped_case</span></a> <span class="id" title="var">Î</span> <span class="id" title="var">ind</span> <span class="id" title="var">discr</span> <span class="id" title="var">brs</span> <span class="id" title="var">eliminator</span> : <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#PrettyPrinter"><span class="id" title="definition">PrettyPrinter</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">col</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#get_current_line_length"><span class="id" title="definition">get_current_line_length</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#push_indent"><span class="id" title="definition">push_indent</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#col"><span class="id" title="variable">col</span></a><span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#eliminator"><span class="id" title="variable">eliminator</span></a> <span class="id" title="notation">^</span> "(")<span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">oib</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#wrap_result"><span class="id" title="definition">wrap_result</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#lookup_ind_decl"><span class="id" title="definition">lookup_ind_decl</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#ind"><span class="id" title="variable">ind</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a><span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#push_indent"><span class="id" title="definition">push_indent</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#col"><span class="id" title="variable">col</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#indent_size"><span class="id" title="definition">indent_size</span></a>)<span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">fix</span> <span class="id" title="var">print_branch</span> (<span class="id" title="var">arity</span> <span class="id" title="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">Î</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <span class="id" title="definition">ident</span>) (<span class="id" title="var">t</span> : <span class="id" title="inductive">term</span>) {<span class="id" title="keyword">struct</span> <span class="id" title="var">t</span>} :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#n"><span class="id" title="variable">n</span></a>, <a class="idref" href="ConCert.Extraction.RustExtract.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0, <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">args</span> := <span class="id" title="definition">rev</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#arity"><span class="id" title="variable">arity</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a>) <span class="id" title="tactic">in</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_concat"><span class="id" title="definition">append_concat</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> =&gt; <a class="idref" href="ConCert.Extraction.RustExtract.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="notation">^</span> ", ") <a class="idref" href="ConCert.Extraction.RustExtract.html#args"><span class="id" title="variable">args</span></a>)<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "{"<span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#push_indent"><span class="id" title="definition">push_indent</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#col"><span class="id" title="variable">col</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 2<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Peano.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">*</span></a><a class="idref" href="ConCert.Extraction.RustExtract.html#indent_size"><span class="id" title="definition">indent_size</span></a>)<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#FixEnv.print_term.print_term"><span class="id" title="variable">print_term</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#t"><span class="id" title="variable">t</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#pop_indent"><span class="id" title="definition">pop_indent</span></a><span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "},"<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>, <span class="id" title="constructor">tLambda</span> <span class="id" title="var">name</span> <span class="id" title="var">t</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">name</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#fresh_ident"><span class="id" title="definition">fresh_ident</span></a> <span class="id" title="var">name</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#print_branch"><span class="id" title="variable">print_branch</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#arity"><span class="id" title="variable">arity</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#name"><span class="id" title="variable">name</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a>) <a class="idref" href="ConCert.Extraction.RustExtract.html#t"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> =&gt; <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#printer_fail"><span class="id" title="definition">printer_fail</span></a> "Could not decompose case branch"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#monad_append_concat"><span class="id" title="definition">monad_append_concat</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">ar</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="ConCert.Extraction.RustExtract.html#print_branch"><span class="id" title="variable">print_branch</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#ar"><span class="id" title="variable">ar</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#ar"><span class="id" title="variable">ar</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="ConCert.Extraction.RustExtract.html#brs"><span class="id" title="variable">brs</span></a>)<span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#FixEnv.print_term.print_term"><span class="id" title="variable">print_term</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#discr"><span class="id" title="variable">discr</span></a><span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> ")"<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#pop_indent"><span class="id" title="definition">pop_indent</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#pop_indent"><span class="id" title="definition">pop_indent</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#FixEnv.print_term"><span class="id" title="section">print_term</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="needs_block"><span class="id" title="definition">needs_block</span></a> (<span class="id" title="var">t</span> : <span class="id" title="inductive">term</span>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="constructor">tLetIn</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;| <span class="id" title="constructor">tFix</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="print_term"><span class="id" title="definition">print_term</span></a> (<span class="id" title="var">Î</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <span class="id" title="definition">ident</span>) (<span class="id" title="var">t</span> : <span class="id" title="inductive">term</span>) {<span class="id" title="keyword">struct</span> <span class="id" title="var">t</span>} : <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#PrettyPrinter"><span class="id" title="definition">PrettyPrinter</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="constructor">tBox</span> =&gt; <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#term_box_symbol"><span class="id" title="method">term_box_symbol</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="constructor">tRel</span> <span class="id" title="var">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a> <span class="id" title="var">n</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">name</span> =&gt; <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> <span class="id" title="var">name</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#printer_fail"><span class="id" title="definition">printer_fail</span></a> ("unbound tRel " <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <a class="idref" href="ConCert.Utils.StringExtra.html#string_of_nat"><span class="id" title="definition">string_of_nat</span></a> <span class="id" title="var">n</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <span class="id" title="constructor">tVar</span> <span class="id" title="var">ident</span> =&gt; <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#printer_fail"><span class="id" title="definition">printer_fail</span></a> ("tVar " <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <span class="id" title="var">ident</span>)<br/>
&nbsp;&nbsp;| <span class="id" title="constructor">tEvar</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#printer_fail"><span class="id" title="definition">printer_fail</span></a> "unexpected evar"<br/>
&nbsp;&nbsp;| <span class="id" title="constructor">tLambda</span> <span class="id" title="var">name</span> <span class="id" title="var">t</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">name</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#fresh_ident"><span class="id" title="definition">fresh_ident</span></a> <span class="id" title="var">name</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">col</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#get_current_line_length"><span class="id" title="definition">get_current_line_length</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#push_indent"><span class="id" title="definition">push_indent</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#col"><span class="id" title="variable">col</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> ("self.closure(move |" <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#name"><span class="id" title="variable">name</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> "| {")<span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#push_indent"><span class="id" title="definition">push_indent</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#col"><span class="id" title="variable">col</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#indent_size"><span class="id" title="definition">indent_size</span></a>)<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Î</span> := <a class="idref" href="ConCert.Extraction.RustExtract.html#name"><span class="id" title="variable">name</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#print_term"><span class="id" title="definition">print_term</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#t"><span class="id" title="variable">t</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#pop_indent"><span class="id" title="definition">pop_indent</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "})"<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#pop_indent"><span class="id" title="definition">pop_indent</span></a><br/>
<br/>
&nbsp;&nbsp;| <span class="id" title="constructor">tLetIn</span> <span class="id" title="var">na</span> <span class="id" title="var">val</span> <span class="id" title="var">body</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">name</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#fresh_ident"><span class="id" title="definition">fresh_ident</span></a> <span class="id" title="var">na</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">col</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#get_current_line_length"><span class="id" title="definition">get_current_line_length</span></a><span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#push_indent"><span class="id" title="definition">push_indent</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#col"><span class="id" title="variable">col</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> ("let " <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#name"><span class="id" title="variable">name</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> " =")<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#needs_block"><span class="id" title="definition">needs_block</span></a> <span class="id" title="var">val</span> <span class="id" title="keyword">then</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> " {" <span class="id" title="keyword">else</span> <span class="id" title="method">ret</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><span class="id" title="notation">);;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#push_indent"><span class="id" title="definition">push_indent</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#col"><span class="id" title="variable">col</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#indent_size"><span class="id" title="definition">indent_size</span></a>)<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#print_term"><span class="id" title="definition">print_term</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a> <span class="id" title="var">val</span><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#pop_indent"><span class="id" title="definition">pop_indent</span></a><span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#needs_block"><span class="id" title="definition">needs_block</span></a> <span class="id" title="var">val</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "};"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> ";"<span class="id" title="notation">);;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#print_term"><span class="id" title="definition">print_term</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#name"><span class="id" title="variable">name</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a>) <span class="id" title="var">body</span><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#pop_indent"><span class="id" title="definition">pop_indent</span></a><br/>
<br/>
&nbsp;&nbsp;| <span class="id" title="constructor">tApp</span> <span class="id" title="var">head</span> <span class="id" title="var">arg</span> =&gt;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fix</span> <span class="id" title="var">f</span> <span class="id" title="var">head</span> <span class="id" title="var">args_printed</span> {<span class="id" title="keyword">struct</span> <span class="id" title="var">head</span>} :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#head"><span class="id" title="variable">head</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">tApp</span> <span class="id" title="var">head</span> <span class="id" title="var">arg</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">printed_arg</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#needs_block"><span class="id" title="definition">needs_block</span></a> <span class="id" title="var">arg</span> <span class="id" title="keyword">then</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "{ " <span class="id" title="keyword">else</span> <span class="id" title="method">ret</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><span class="id" title="notation">);;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#print_term"><span class="id" title="definition">print_term</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a> <span class="id" title="var">arg</span><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#needs_block"><span class="id" title="definition">needs_block</span></a> <span class="id" title="var">arg</span> <span class="id" title="keyword">then</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> " }" <span class="id" title="keyword">else</span> <span class="id" title="method">ret</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#head"><span class="id" title="variable">head</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#printed_arg"><span class="id" title="variable">printed_arg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#args_printed"><span class="id" title="variable">args_printed</span></a>)<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">tConstruct</span> <span class="id" title="var">ind</span> <span class="id" title="var">i</span> =&gt; <a class="idref" href="ConCert.Extraction.RustExtract.html#print_constructor"><span class="id" title="definition">print_constructor</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">i</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#args_printed"><span class="id" title="variable">args_printed</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">tConst</span> <span class="id" title="var">kn</span> =&gt; <a class="idref" href="ConCert.Extraction.RustExtract.html#print_const"><span class="id" title="definition">print_const</span></a> <span class="id" title="var">kn</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#args_printed"><span class="id" title="variable">args_printed</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;For&nbsp;other&nbsp;heads&nbsp;we&nbsp;might&nbsp;need&nbsp;to&nbsp;guide&nbsp;type&nbsp;inference&nbsp;by&nbsp;repeatedly<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;applying&nbsp;a&nbsp;hint&nbsp;function&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#concat"><span class="id" title="definition">concat</span></a> "" (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#repeat"><span class="id" title="definition">repeat</span></a> "hint_app(" <span class="id" title="notation">#|</span><a class="idref" href="ConCert.Extraction.RustExtract.html#args_printed"><span class="id" title="variable">args_printed</span></a><span class="id" title="notation">|</span>))<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#needs_block"><span class="id" title="definition">needs_block</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#head"><span class="id" title="variable">head</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "{ " <span class="id" title="keyword">else</span> <span class="id" title="method">ret</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><span class="id" title="notation">);;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#print_term"><span class="id" title="definition">print_term</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#head"><span class="id" title="variable">head</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#needs_block"><span class="id" title="definition">needs_block</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#head"><span class="id" title="variable">head</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> " }" <span class="id" title="keyword">else</span> <span class="id" title="method">ret</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><span class="id" title="notation">);;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> ")"<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">monad_fold_left</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">pref</span> <span class="id" title="var">a</span> =&gt; <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#pref"><span class="id" title="variable">pref</span></a><span class="id" title="notation">;;</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#a"><span class="id" title="variable">a</span></a><span class="id" title="notation">;;</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> ")"<span class="id" title="notation">;;</span> <span class="id" title="method">ret</span> ")(") <a class="idref" href="ConCert.Extraction.RustExtract.html#args_printed"><span class="id" title="variable">args_printed</span></a> "("<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">ret</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) <span class="id" title="var">head</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#needs_block"><span class="id" title="definition">needs_block</span></a> <span class="id" title="var">arg</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "{ "<span class="id" title="notation">;;</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#print_term"><span class="id" title="definition">print_term</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a> <span class="id" title="var">arg</span><span class="id" title="notation">;;</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> " }"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#print_term"><span class="id" title="definition">print_term</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a> <span class="id" title="var">arg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><br/>
<br/>
&nbsp;&nbsp;| <span class="id" title="constructor">tConst</span> <span class="id" title="var">kn</span> =&gt; <a class="idref" href="ConCert.Extraction.RustExtract.html#print_const"><span class="id" title="definition">print_const</span></a> <span class="id" title="var">kn</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="constructor">tConstruct</span> <span class="id" title="var">ind</span> <span class="id" title="var">i</span> =&gt; <a class="idref" href="ConCert.Extraction.RustExtract.html#print_constructor"><span class="id" title="definition">print_constructor</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
<br/>
&nbsp;&nbsp;| <span class="id" title="constructor">tCase</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">ind</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">npars</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">discr</span> <span class="id" title="var">brs</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">brs</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;If&nbsp;it's&nbsp;a&nbsp;match&nbsp;on&nbsp;an&nbsp;empty&nbsp;type,&nbsp;we&nbsp;just&nbsp;panic,&nbsp;since&nbsp;we&nbsp;should&nbsp;never&nbsp;reach&nbsp;this&nbsp;code&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "panic!(""Absurd case!"")"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Extraction.Printing.html#remap_inductive"><span class="id" title="projection">remap_inductive</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#FixEnv.remaps"><span class="id" title="variable">remaps</span></a> <span class="id" title="var">ind</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">rem</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Extraction.Printing.html#re_ind_match"><span class="id" title="projection">re_ind_match</span></a> <span class="id" title="var">rem</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">s</span> =&gt; <a class="idref" href="ConCert.Extraction.RustExtract.html#print_remapped_case"><span class="id" title="definition">print_remapped_case</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#print_term"><span class="id" title="definition">print_term</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">discr</span> <span class="id" title="var">brs</span> <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="ConCert.Extraction.RustExtract.html#print_case"><span class="id" title="definition">print_case</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#print_term"><span class="id" title="definition">print_term</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">npars</span> <span class="id" title="var">discr</span> <span class="id" title="var">brs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="ConCert.Extraction.RustExtract.html#print_case"><span class="id" title="definition">print_case</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#print_term"><span class="id" title="definition">print_term</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">npars</span> <span class="id" title="var">discr</span> <span class="id" title="var">brs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <span class="id" title="constructor">tFix</span> <span class="id" title="var">defs</span> <span class="id" title="var">i</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Rust&nbsp;does&nbsp;not&nbsp;have&nbsp;recursive&nbsp;closures.&nbsp;Instead,&nbsp;we&nbsp;have&nbsp;to&nbsp;do&nbsp;a&nbsp;trick<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;we&nbsp;recurse&nbsp;through&nbsp;the&nbsp;heap:&nbsp;we&nbsp;first&nbsp;create&nbsp;a&nbsp;cell&nbsp;on&nbsp;the&nbsp;heap<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;that&nbsp;will&nbsp;point&nbsp;to&nbsp;the&nbsp;closure.&nbsp;Then,&nbsp;we&nbsp;create&nbsp;the&nbsp;closure&nbsp;that&nbsp;unwraps<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;heap&nbsp;location&nbsp;to&nbsp;get&nbsp;itself.&nbsp;Finally,&nbsp;we&nbsp;put&nbsp;the&nbsp;closure&nbsp;into&nbsp;that&nbsp;heap<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;location&nbsp;and&nbsp;it&nbsp;is&nbsp;ready&nbsp;to&nbsp;use.&nbsp;It&nbsp;is&nbsp;complicated&nbsp;by&nbsp;the&nbsp;fact&nbsp;that&nbsp;fix&nbsp;points<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;are&nbsp;also&nbsp;mutual&nbsp;and&nbsp;we&nbsp;must&nbsp;create&nbsp;many&nbsp;heap&nbsp;cells&nbsp;before&nbsp;assigning&nbsp;the&nbsp;closures,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;each&nbsp;closure&nbsp;also&nbsp;needs&nbsp;its&nbsp;own&nbsp;clone&nbsp;of&nbsp;each&nbsp;cell.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">col</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#get_current_line_length"><span class="id" title="definition">get_current_line_length</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#push_indent"><span class="id" title="definition">push_indent</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#col"><span class="id" title="variable">col</span></a><span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Generate&nbsp;names&nbsp;and&nbsp;allocate&nbsp;cells&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Î</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">cells</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">&lt;-</span> <span class="id" title="definition">monad_fold_left</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> '<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Î</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">cells</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">d</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;This&nbsp;is&nbsp;hacky,&nbsp;but&nbsp;instead&nbsp;of&nbsp;putting&nbsp;proper&nbsp;names&nbsp;in&nbsp;the&nbsp;context,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;we&nbsp;put&nbsp;a&nbsp;string&nbsp;that&nbsp;unwraps&nbsp;the&nbsp;cell&nbsp;in&nbsp;the&nbsp;context.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;is&nbsp;simpler&nbsp;for&nbsp;now,&nbsp;but&nbsp;as&nbsp;a&nbsp;side&nbsp;effect&nbsp;we&nbsp;need&nbsp;to&nbsp;push&nbsp;a&nbsp;use<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;since&nbsp;the&nbsp;name&nbsp;won't&nbsp;be&nbsp;in&nbsp;the&nbsp;context.&nbsp;In&nbsp;the&nbsp;future&nbsp;we&nbsp;should&nbsp;unwrap&nbsp;it&nbsp;after&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;first&nbsp;closure&nbsp;or&nbsp;find&nbsp;a&nbsp;better&nbsp;way&nbsp;to&nbsp;handle&nbsp;this.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">na</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#fresh_ident"><span class="id" title="definition">fresh_ident</span></a> (<span class="id" title="projection">dname</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#d"><span class="id" title="variable">d</span></a>) <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#push_use"><span class="id" title="definition">push_use</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#na"><span class="id" title="variable">na</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> ("let " <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#na"><span class="id" title="variable">na</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> " = self.alloc(std::cell::Cell::new(None));")<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">ret</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Extraction.RustExtract.html#na"><span class="id" title="variable">na</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> ".get().unwrap()"<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#na"><span class="id" title="variable">na</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#cells"><span class="id" title="variable">cells</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">defs</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">cells</span> := <span class="id" title="definition">rev</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#cells"><span class="id" title="variable">cells</span></a> <span class="id" title="tactic">in</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Print&nbsp;closures.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">monad_fold_left</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> '<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">print_def</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">cell</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#cell"><span class="id" title="variable">cell</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> ".set(Some(")<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#push_indent"><span class="id" title="definition">push_indent</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#col"><span class="id" title="variable">col</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#indent_size"><span class="id" title="definition">indent_size</span></a>)<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#print_def"><span class="id" title="variable">print_def</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "));"<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#pop_indent"><span class="id" title="definition">pop_indent</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#combine"><span class="id" title="definition">combine</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">d</span> =&gt; <a class="idref" href="ConCert.Extraction.RustExtract.html#print_term"><span class="id" title="definition">print_term</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a> (<span class="id" title="projection">dbody</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#d"><span class="id" title="variable">d</span></a>)) <span class="id" title="var">defs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#cells"><span class="id" title="variable">cells</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <span class="id" title="var">i</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#cells"><span class="id" title="variable">cells</span></a> "" <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> ".get().unwrap()")<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#pop_indent"><span class="id" title="definition">pop_indent</span></a><br/>
<br/>
&nbsp;&nbsp;| <span class="id" title="constructor">tProj</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">((</span></a><span class="id" title="var">ind</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">pars</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),</span></a> <span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">t</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#printer_fail"><span class="id" title="definition">printer_fail</span></a> ("unhandled tProj on " <span class="id" title="notation">^</span> <span class="id" title="definition">string_of_kername</span> (<span class="id" title="projection">inductive_mind</span> <span class="id" title="var">ind</span>))<br/>
<br/>
&nbsp;&nbsp;| <span class="id" title="constructor">tCoFix</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#printer_fail"><span class="id" title="definition">printer_fail</span></a> "Cannot handle tCoFix yet"<br/>
&nbsp;&nbsp;| <span class="id" title="constructor">tPrim</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#printer_fail"><span class="id" title="definition">printer_fail</span></a> "Cannot handle Coq primitive types yet"<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="print_constant"><span class="id" title="definition">print_constant</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">kn</span> : <span class="id" title="definition">kername</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">type</span> : (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <span class="id" title="inductive">name</span> <span class="id" title="notation">Ã</span> <a class="idref" href="ConCert.Extraction.ExAst.html#box_type"><span class="id" title="inductive">box_type</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">body</span> : <a class="idref" href="ConCert.Extraction.RustExtract.html#term"><span class="id" title="inductive">E.term</span></a>) : <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#PrettyPrinter"><span class="id" title="definition">PrettyPrinter</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> :=<br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">rname</span> := <a class="idref" href="ConCert.Extraction.RustExtract.html#const_global_ident_of_kername"><span class="id" title="definition">const_global_ident_of_kername</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#kn"><span class="id" title="variable">kn</span></a> <span class="id" title="tactic">in</span><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="var">name_col</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#get_current_line_length"><span class="id" title="definition">get_current_line_length</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#push_indent"><span class="id" title="definition">push_indent</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#name_col"><span class="id" title="variable">name_col</span></a><span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">type_vars</span>, <span class="id" title="var">ty</span>) := <a class="idref" href="ConCert.Extraction.RustExtract.html#type"><span class="id" title="variable">type</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">Îty</span> <span class="id" title="notation">&lt;-</span> <span class="id" title="definition">monad_fold_left</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">Îty</span> <span class="id" title="var">name</span> =&gt; <span class="id" title="var">name</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#fresh_ty_arg_name"><span class="id" title="definition">fresh_ty_arg_name</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#name"><span class="id" title="variable">name</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#2d3e92fdd0f306442c1f069d30f84b40"><span class="id" title="variable">Îty</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">ret</span> (<a class="idref" href="ConCert.Extraction.RustExtract.html#2d3e92fdd0f306442c1f069d30f84b40"><span class="id" title="variable">Îty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="ConCert.Extraction.RustExtract.html#name"><span class="id" title="variable">name</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)%<span class="id" title="var">list</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#type_vars"><span class="id" title="variable">type_vars</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Print&nbsp;version&nbsp;with&nbsp;inlined&nbsp;args&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Extraction.Printing.html#remap_constant"><span class="id" title="projection">remap_constant</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#FixEnv.remaps"><span class="id" title="variable">remaps</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#kn"><span class="id" title="variable">kn</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">s</span> =&gt; <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> (<a class="idref" href="ConCert.Utils.StringExtra.html#replace"><span class="id" title="definition">StringExtra.replace</span></a> "##name##" <a class="idref" href="ConCert.Extraction.RustExtract.html#rname"><span class="id" title="variable">rname</span></a> <span class="id" title="var">s</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Extraction.Printing.html#remap_inline_constant"><span class="id" title="projection">remap_inline_constant</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#FixEnv.remaps"><span class="id" title="variable">remaps</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#kn"><span class="id" title="variable">kn</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">ret</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> ("fn " <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#rname"><span class="id" title="variable">rname</span></a>)<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#print_parenthesized_with"><span class="id" title="definition">print_parenthesized_with</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&lt;" "&gt;" (0 <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="notation">#|</span><a class="idref" href="ConCert.Extraction.RustExtract.html#2d3e92fdd0f306442c1f069d30f84b40"><span class="id" title="variable">Îty</span></a><span class="id" title="notation">|</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_join"><span class="id" title="definition">append_join</span></a> ", " (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">na</span> =&gt; <a class="idref" href="ConCert.Extraction.RustExtract.html#na"><span class="id" title="variable">na</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> ": Copy") <a class="idref" href="ConCert.Extraction.RustExtract.html#2d3e92fdd0f306442c1f069d30f84b40"><span class="id" title="variable">Îty</span></a>))<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "(&amp;'a self"<span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fix</span> <span class="id" title="var">print_top</span> <span class="id" title="var">Î</span> <span class="id" title="var">body</span> <span class="id" title="var">ty</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#body"><span class="id" title="variable">body</span></a>, <a class="idref" href="ConCert.Extraction.RustExtract.html#ty"><span class="id" title="variable">ty</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">tLambda</span> <span class="id" title="var">na</span> <span class="id" title="var">body</span>, <a class="idref" href="ConCert.Extraction.ExAst.html#TArr"><span class="id" title="constructor">TArr</span></a> <span class="id" title="var">dom</span> <span class="id" title="var">cod</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">na</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#fresh_ident"><span class="id" title="definition">fresh_ident</span></a> <span class="id" title="var">na</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> (", " <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#na"><span class="id" title="variable">na</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> ": ")<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#print_type"><span class="id" title="definition">print_type</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#2d3e92fdd0f306442c1f069d30f84b40"><span class="id" title="variable">Îty</span></a> <span class="id" title="var">dom</span><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#print_top"><span class="id" title="variable">print_top</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#na"><span class="id" title="variable">na</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a>) <a class="idref" href="ConCert.Extraction.RustExtract.html#body"><span class="id" title="variable">body</span></a> <span class="id" title="var">cod</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> ") -&gt; "<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#print_type"><span class="id" title="definition">print_type</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#2d3e92fdd0f306442c1f069d30f84b40"><span class="id" title="variable">Îty</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#ty"><span class="id" title="variable">ty</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> " {"<span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#push_indent"><span class="id" title="definition">push_indent</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#name_col"><span class="id" title="variable">name_col</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#indent_size"><span class="id" title="definition">indent_size</span></a>)<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#push_use"><span class="id" title="definition">push_use</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#rname"><span class="id" title="variable">rname</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#print_term"><span class="id" title="definition">print_term</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#body"><span class="id" title="variable">body</span></a><span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#pop_indent"><span class="id" title="definition">pop_indent</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "}"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#body"><span class="id" title="variable">body</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#ty"><span class="id" title="variable">ty</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span><span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Print&nbsp;curried&nbsp;version&nbsp;if&nbsp;there&nbsp;were&nbsp;inlined&nbsp;args&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">num_inline_args</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#get_num_inline_args"><span class="id" title="definition">get_num_inline_args</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#kn"><span class="id" title="variable">kn</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">if</span> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#num_inline_args"><span class="id" title="variable">num_inline_args</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> ("fn " <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#rname"><span class="id" title="variable">rname</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> "__curried")<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#print_parenthesized_with"><span class="id" title="definition">print_parenthesized_with</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&lt;" "&gt;" (0 <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="notation">#|</span><a class="idref" href="ConCert.Extraction.RustExtract.html#2d3e92fdd0f306442c1f069d30f84b40"><span class="id" title="variable">Îty</span></a><span class="id" title="notation">|</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_join"><span class="id" title="definition">append_join</span></a> ", " (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">na</span> =&gt; <a class="idref" href="ConCert.Extraction.RustExtract.html#na"><span class="id" title="variable">na</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> ": Copy") <a class="idref" href="ConCert.Extraction.RustExtract.html#2d3e92fdd0f306442c1f069d30f84b40"><span class="id" title="variable">Îty</span></a>))<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "(&amp;'a self) -&gt; "<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#print_type"><span class="id" title="definition">print_type</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#2d3e92fdd0f306442c1f069d30f84b40"><span class="id" title="variable">Îty</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#ty"><span class="id" title="variable">ty</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> " {"<span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#push_indent"><span class="id" title="definition">push_indent</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#name_col"><span class="id" title="variable">name_col</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#indent_size"><span class="id" title="definition">indent_size</span></a>)<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#push_use"><span class="id" title="definition">push_use</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#rname"><span class="id" title="variable">rname</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> "__curried")<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eta_term</span> <span class="id" title="notation">&lt;-</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fix</span> <span class="id" title="var">make_eta_term</span> <span class="id" title="var">n</span> <span class="id" title="var">body</span> <span class="id" title="var">ty</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#body"><span class="id" title="variable">body</span></a>, <a class="idref" href="ConCert.Extraction.RustExtract.html#ty"><span class="id" title="variable">ty</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">tLambda</span> <span class="id" title="var">na</span> <span class="id" title="var">body</span>, <a class="idref" href="ConCert.Extraction.ExAst.html#TArr"><span class="id" title="constructor">TArr</span></a> <span class="id" title="var">dom</span> <span class="id" title="var">cod</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eta_term</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#make_eta_term"><span class="id" title="variable">make_eta_term</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="ConCert.Extraction.RustExtract.html#body"><span class="id" title="variable">body</span></a> <span class="id" title="var">cod</span><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">ret</span> (<span class="id" title="constructor">tLambda</span> <span class="id" title="var">na</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#eta_term"><span class="id" title="variable">eta_term</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> =&gt; <span class="id" title="method">ret</span> (<span class="id" title="definition">mkApps</span> (<span class="id" title="constructor">tConst</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#kn"><span class="id" title="variable">kn</span></a>) (<span class="id" title="definition">rev_map</span> <span class="id" title="constructor">tRel</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#seq"><span class="id" title="definition">seq</span></a> 0 <a class="idref" href="ConCert.Extraction.RustExtract.html#n"><span class="id" title="variable">n</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) 0 <a class="idref" href="ConCert.Extraction.RustExtract.html#body"><span class="id" title="variable">body</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#ty"><span class="id" title="variable">ty</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#print_term"><span class="id" title="definition">print_term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#eta_term"><span class="id" title="variable">eta_term</span></a><span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#pop_indent"><span class="id" title="definition">pop_indent</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "}"<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">ret</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><span class="id" title="notation">);;</span><br/>
<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#pop_indent"><span class="id" title="definition">pop_indent</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="method">ret</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="print_ind_ctor_definition"><span class="id" title="definition">print_ind_ctor_definition</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Î</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <span class="id" title="definition">ident</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ctor_name</span> : <span class="id" title="definition">ident</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">data</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<span class="id" title="inductive">name</span> <span class="id" title="notation">Ã</span> <a class="idref" href="ConCert.Extraction.ExAst.html#box_type"><span class="id" title="inductive">box_type</span></a>)) : <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#PrettyPrinter"><span class="id" title="definition">PrettyPrinter</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#clean_global_ident"><span class="id" title="definition">clean_global_ident</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#ctor_name"><span class="id" title="variable">ctor_name</span></a>)<span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Make&nbsp;sure&nbsp;we&nbsp;always&nbsp;take&nbsp;a&nbsp;lifetime&nbsp;parameter&nbsp;in&nbsp;data&nbsp;types&nbsp;*)</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "("<span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;All&nbsp;constructors&nbsp;take&nbsp;a&nbsp;PhantomData&nbsp;as&nbsp;their&nbsp;first&nbsp;argument&nbsp;which&nbsp;ensures&nbsp;that<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rust&nbsp;does&nbsp;not&nbsp;complained&nbsp;about&nbsp;unused&nbsp;lifetimes/type&nbsp;parameters.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;phantom&nbsp;type&nbsp;is&nbsp;a&nbsp;'a&nbsp;lifetimed&nbsp;reference&nbsp;to&nbsp;a&nbsp;tuple&nbsp;of&nbsp;all&nbsp;the&nbsp;type&nbsp;args.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">print_phantom</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "PhantomData&lt;&amp;'a "<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">if</span> (<span class="id" title="notation">#|</span><a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a><span class="id" title="notation">|</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Arith.PeanoNat.html#ad2ec4e405f68c46c0a176e3e94ae2e3"><span class="id" title="notation">=?</span></a> 0)%<span class="id" title="var">nat</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "()"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#print_parenthesized"><span class="id" title="definition">print_parenthesized</span></a> (1 <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Arith.PeanoNat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="notation">#|</span><a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a><span class="id" title="notation">|</span>)%<span class="id" title="var">nat</span> (<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_join"><span class="id" title="definition">append_join</span></a> ", " <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a>)<span class="id" title="notation">);;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "&gt;" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">print_datas</span> := <a class="idref" href="ConCert.Extraction.RustExtract.html#print_phantom"><span class="id" title="variable">print_phantom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#print_type"><span class="id" title="definition">print_type</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a> <span class="id" title="notation">â</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a>) <a class="idref" href="ConCert.Extraction.RustExtract.html#data"><span class="id" title="variable">data</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#monad_append_join"><span class="id" title="definition">monad_append_join</span></a> (<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> ", ") <a class="idref" href="ConCert.Extraction.RustExtract.html#print_datas"><span class="id" title="variable">print_datas</span></a><span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> ")".<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">string</span>.<br/>
<span class="id" title="keyword">Definition</span> <a name="print_mutual_inductive_body"><span class="id" title="definition">print_mutual_inductive_body</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">kn</span> : <span class="id" title="definition">kername</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">mib</span> : <a class="idref" href="ConCert.Extraction.RustExtract.html#mutual_inductive_body"><span class="id" title="record">Ex.mutual_inductive_body</span></a>) : <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#PrettyPrinter"><span class="id" title="definition">PrettyPrinter</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">col</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#get_current_line_length"><span class="id" title="definition">get_current_line_length</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#push_indent"><span class="id" title="definition">push_indent</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#col"><span class="id" title="variable">col</span></a><span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="var">names</span> <span class="id" title="notation">&lt;-</span><br/>
&nbsp;&nbsp;(<span class="id" title="keyword">fix</span> <span class="id" title="var">print_ind_bodies</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#one_inductive_body"><span class="id" title="record">Ex.one_inductive_body</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">prefix</span> : <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#PrettyPrinter"><span class="id" title="definition">PrettyPrinter</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt; <span class="id" title="method">ret</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">oib</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span> =&gt;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#prefix"><span class="id" title="variable">prefix</span></a><span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#FixEnv.ind_attrs"><span class="id" title="variable">ind_attrs</span></a> (<span class="id" title="constructor">mkInd</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#kn"><span class="id" title="variable">kn</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#i"><span class="id" title="variable">i</span></a>))<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "pub enum "<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#print_ind"><span class="id" title="definition">print_ind</span></a> (<span class="id" title="constructor">mkInd</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#kn"><span class="id" title="variable">kn</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#i"><span class="id" title="variable">i</span></a>)<span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Add&nbsp;type&nbsp;parameters.&nbsp;Note&nbsp;that&nbsp;since&nbsp;we&nbsp;are&nbsp;in&nbsp;prenex&nbsp;form,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;our&nbsp;context&nbsp;will&nbsp;have&nbsp;last&nbsp;type&nbsp;parameter&nbsp;last,&nbsp;not&nbsp;first.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Î</span> <span class="id" title="notation">&lt;-</span> <span class="id" title="definition">monad_fold_left</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">Î</span> <span class="id" title="var">name</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">name</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#fresh_ty_arg_name"><span class="id" title="definition">fresh_ty_arg_name</span></a> (<a class="idref" href="ConCert.Extraction.ExAst.html#tvar_name"><span class="id" title="projection">tvar_name</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#name"><span class="id" title="variable">name</span></a>) <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">ret</span> (<a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="ConCert.Extraction.RustExtract.html#name"><span class="id" title="variable">name</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)%<span class="id" title="var">list</span>) (<a class="idref" href="ConCert.Extraction.ExAst.html#ind_type_vars"><span class="id" title="projection">ind_type_vars</span></a> <span class="id" title="var">oib</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "&lt;"<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_join"><span class="id" title="definition">append_join</span></a> ", " ("'a" <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a>)<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "&gt; {"<span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Print&nbsp;constructors&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#push_indent"><span class="id" title="definition">push_indent</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#col"><span class="id" title="variable">col</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#indent_size"><span class="id" title="definition">indent_size</span></a>)<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#monad_append_join"><span class="id" title="definition">monad_append_join</span></a> (<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> ","<span class="id" title="notation">;;</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">name</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">data</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#print_ind_ctor_definition"><span class="id" title="definition">print_ind_ctor_definition</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#name"><span class="id" title="variable">name</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#data"><span class="id" title="variable">data</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Extraction.RustExtract.html#ind_ctors"><span class="id" title="projection">Ex.ind_ctors</span></a> <span class="id" title="var">oib</span>))<span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#pop_indent"><span class="id" title="definition">pop_indent</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "}"<span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#print_ind_bodies"><span class="id" title="variable">print_ind_bodies</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#i"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) (<a class="idref" href="ConCert.Extraction.RustExtract.html#ind_bodies"><span class="id" title="projection">Ex.ind_bodies</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#mib"><span class="id" title="variable">mib</span></a>) (<span class="id" title="method">ret</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>) 0<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#pop_indent"><span class="id" title="definition">pop_indent</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="method">ret</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#names"><span class="id" title="variable">names</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="print_type_alias"><span class="id" title="definition">print_type_alias</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">nm</span> : <span class="id" title="definition">kername</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">tvars</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Extraction.ExAst.html#type_var_info"><span class="id" title="record">type_var_info</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">bt</span> : <a class="idref" href="ConCert.Extraction.ExAst.html#box_type"><span class="id" title="inductive">box_type</span></a>) : <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#PrettyPrinter"><span class="id" title="definition">PrettyPrinter</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">rname</span> := <a class="idref" href="ConCert.Extraction.RustExtract.html#ty_const_global_ident_of_kername"><span class="id" title="definition">ty_const_global_ident_of_kername</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#nm"><span class="id" title="variable">nm</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Extraction.Printing.html#remap_constant"><span class="id" title="projection">remap_constant</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#FixEnv.remaps"><span class="id" title="variable">remaps</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#nm"><span class="id" title="variable">nm</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">s</span> =&gt; <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> (<a class="idref" href="ConCert.Utils.StringExtra.html#replace"><span class="id" title="definition">StringExtra.replace</span></a> "##name##" <a class="idref" href="ConCert.Extraction.RustExtract.html#rname"><span class="id" title="variable">rname</span></a> <span class="id" title="var">s</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> ("type " <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#rname"><span class="id" title="variable">rname</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> "&lt;")<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Îrev</span> <span class="id" title="notation">&lt;-</span> <span class="id" title="definition">monad_fold_left</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">Î</span> <span class="id" title="var">tvar</span> =&gt; <span class="id" title="var">name</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#fresh_ty_arg_name"><span class="id" title="definition">fresh_ty_arg_name</span></a> (<a class="idref" href="ConCert.Extraction.ExAst.html#tvar_name"><span class="id" title="projection">tvar_name</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#tvar"><span class="id" title="variable">tvar</span></a>) <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">ret</span> (<a class="idref" href="ConCert.Extraction.RustExtract.html#name"><span class="id" title="variable">name</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#tvars"><span class="id" title="variable">tvars</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Î</span> := <span class="id" title="definition">rev</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#8569c32affbce96d3429f9fdbd1f7f94"><span class="id" title="variable">Îrev</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_join"><span class="id" title="definition">append_join</span></a> ", " ("'a" <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a>)<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "&gt; = "<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#print_type"><span class="id" title="definition">print_type</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Î</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#bt"><span class="id" title="variable">bt</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> ";"<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="print_decls_aux"><span class="id" title="definition">print_decls_aux</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">decls</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<span class="id" title="definition">kername</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#global_decl"><span class="id" title="inductive">Ex.global_decl</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">prefix</span> : <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#PrettyPrinter"><span class="id" title="definition">PrettyPrinter</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>) : <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#PrettyPrinter"><span class="id" title="definition">PrettyPrinter</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#decls"><span class="id" title="variable">decls</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt; <span class="id" title="method">ret</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">has_deps</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">decl</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">decls</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">decl</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Extraction.RustExtract.html#ConstantDecl"><span class="id" title="constructor">Ex.ConstantDecl</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#Build_constant_body"><span class="id" title="constructor">{|</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#Build_constant_body"><span class="id" title="constructor">Ex.cst_type</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#Build_constant_body"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#Build_constant_body"><span class="id" title="constructor">type</span></a><a class="idref" href="ConCert.Extraction.RustExtract.html#Build_constant_body"><span class="id" title="constructor">;</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#Build_constant_body"><span class="id" title="constructor">Ex.cst_body</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#Build_constant_body"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#Build_constant_body"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#Build_constant_body"><span class="id" title="constructor">body</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#Build_constant_body"><span class="id" title="constructor">|}</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#prefix"><span class="id" title="variable">prefix</span></a><span class="id" title="notation">;;</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#print_constant"><span class="id" title="definition">print_constant</span></a> <span class="id" title="var">kn</span> <span class="id" title="keyword">type</span> <span class="id" title="var">body</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Extraction.RustExtract.html#InductiveDecl"><span class="id" title="constructor">Ex.InductiveDecl</span></a> <span class="id" title="var">mib</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Extraction.Printing.html#remap_inductive"><span class="id" title="projection">remap_inductive</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#FixEnv.remaps"><span class="id" title="variable">remaps</span></a> (<span class="id" title="constructor">mkInd</span> <span class="id" title="var">kn</span> 0) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">ret</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#prefix"><span class="id" title="variable">prefix</span></a><span class="id" title="notation">;;</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#print_mutual_inductive_body"><span class="id" title="definition">print_mutual_inductive_body</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">mib</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Extraction.RustExtract.html#TypeAliasDecl"><span class="id" title="constructor">Ex.TypeAliasDecl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">tvars</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">bt</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) =&gt; <a class="idref" href="ConCert.Extraction.RustExtract.html#prefix"><span class="id" title="variable">prefix</span></a><span class="id" title="notation">;;</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#print_type_alias"><span class="id" title="definition">print_type_alias</span></a> <span class="id" title="var">kn</span> <span class="id" title="var">tvars</span> <span class="id" title="var">bt</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="method">ret</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#print_decls_aux"><span class="id" title="definition">print_decls_aux</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#decls"><span class="id" title="variable">decls</span></a> (<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="print_decls"><span class="id" title="definition">print_decls</span></a> <span class="id" title="var">decls</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.RustExtract.html#print_decls_aux"><span class="id" title="definition">print_decls_aux</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#decls"><span class="id" title="variable">decls</span></a> (<span class="id" title="method">ret</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>).<br/>

<br/>
<span class="id" title="keyword">Class</span> <a name="Preamble"><span class="id" title="record">Preamble</span></a> :=<br/>
&nbsp;&nbsp;{ <a name="top_preamble"><span class="id" title="projection">top_preamble</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="program_preamble"><span class="id" title="projection">program_preamble</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> }.<br/>

<br/>
<span class="id" title="keyword">Context</span> `{<a class="idref" href="ConCert.Extraction.RustExtract.html#Preamble"><span class="id" title="class">Preamble</span></a>}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="print_program"><span class="id" title="definition">print_program</span></a> : <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#PrettyPrinter"><span class="id" title="definition">PrettyPrinter</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">sig_col</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#get_current_line_length"><span class="id" title="definition">get_current_line_length</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#push_indent"><span class="id" title="definition">push_indent</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#sig_col"><span class="id" title="variable">sig_col</span></a><span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#monad_append_join"><span class="id" title="definition">monad_append_join</span></a> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#top_preamble"><span class="id" title="method">top_preamble</span></a>)<span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">is_const</span> '<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">decl</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#decl"><span class="id" title="variable">decl</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Extraction.RustExtract.html#ConstantDecl"><span class="id" title="constructor">Ex.ConstantDecl</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Filtering&nbsp;out&nbsp;empty&nbsp;type&nbsp;declarations&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;possibly,&nbsp;move&nbsp;to&nbsp;extraction&nbsp;(requires&nbsp;modifications&nbsp;of&nbsp;the&nbsp;correctness&nbsp;proof)&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Î£</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">filter</span></a> (<span class="id" title="keyword">fun</span> '<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">d</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="ConCert.Extraction.Extraction.html#is_empty_type_decl"><span class="id" title="definition">is_empty_type_decl</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#d"><span class="id" title="variable">d</span></a>)) <a class="idref" href="ConCert.Extraction.RustExtract.html#48fbb50eed203b8a0e482c41c1a3ade4"><span class="id" title="variable">Î£</span></a> <span class="id" title="tactic">in</span><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="var">ind_names</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#print_decls_aux"><span class="id" title="definition">print_decls_aux</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">filter</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> <span class="id" title="notation">â</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#is_const"><span class="id" title="variable">is_const</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Î£</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a>)<span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;First&nbsp;print&nbsp;a&nbsp;structure&nbsp;that&nbsp;has&nbsp;the&nbsp;arena&nbsp;and&nbsp;all<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(non-polymorphic)&nbsp;constants&nbsp;in&nbsp;the&nbsp;program&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">constants</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#flat_map"><span class="id" title="definition">flat_map</span></a> (<span class="id" title="keyword">fun</span> '<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">kn</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">has_deps</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">decl</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#decl"><span class="id" title="variable">decl</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Extraction.RustExtract.html#ConstantDecl"><span class="id" title="constructor">Ex.ConstantDecl</span></a> <span class="id" title="var">cst</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Extraction.RustExtract.html#kn"><span class="id" title="variable">kn</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#has_deps"><span class="id" title="variable">has_deps</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">cst</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">List.rev</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Î£</span></a>) <span class="id" title="tactic">in</span><br/>
<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#push_indent"><span class="id" title="definition">push_indent</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#sig_col"><span class="id" title="variable">sig_col</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#indent_size"><span class="id" title="definition">indent_size</span></a>)<span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "struct Program {"<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "__alloc: bumpalo::Bump,"<span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#pop_indent"><span class="id" title="definition">pop_indent</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "}"<span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Next&nbsp;we&nbsp;print&nbsp;all&nbsp;the&nbsp;code&nbsp;as&nbsp;associated&nbsp;members.&nbsp;First<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;we&nbsp;print&nbsp;a&nbsp;way&nbsp;to&nbsp;create&nbsp;such&nbsp;a&nbsp;program.&nbsp;*)</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "impl&lt;'a&gt; Program {"<span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "fn new() -&gt; Self {"<span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#push_indent"><span class="id" title="definition">push_indent</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#sig_col"><span class="id" title="variable">sig_col</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#indent_size"><span class="id" title="definition">indent_size</span></a>)<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "Program {"<span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#push_indent"><span class="id" title="definition">push_indent</span></a> (<a class="idref" href="ConCert.Extraction.RustExtract.html#sig_col"><span class="id" title="variable">sig_col</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 2<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Peano.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">*</span></a><a class="idref" href="ConCert.Extraction.RustExtract.html#indent_size"><span class="id" title="definition">indent_size</span></a>)<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "__alloc: bumpalo::Bump::new(),"<span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#pop_indent"><span class="id" title="definition">pop_indent</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "}"<span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#pop_indent"><span class="id" title="definition">pop_indent</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "}"<span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#monad_append_join"><span class="id" title="definition">monad_append_join</span></a> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> <a class="idref" href="ConCert.Extraction.RustExtract.html#program_preamble"><span class="id" title="method">program_preamble</span></a>)<span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Finally&nbsp;print&nbsp;all&nbsp;constants&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">const_names</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#print_decls_aux"><span class="id" title="definition">print_decls_aux</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="definition">on_snd</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#ConstantDecl"><span class="id" title="constructor">Ex.ConstantDecl</span></a>) <a class="idref" href="ConCert.Extraction.RustExtract.html#constants"><span class="id" title="variable">constants</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span> <a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a>)<span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append_nl"><span class="id" title="definition">append_nl</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#append"><span class="id" title="definition">append</span></a> "}"<span class="id" title="notation">;;</span><br/>
<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.PrettyPrinterMonad.html#pop_indent"><span class="id" title="definition">pop_indent</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ConCert.Extraction.RustExtract.html#FixEnv"><span class="id" title="section">FixEnv</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="extract_rust_within_coq"><span class="id" title="definition">extract_rust_within_coq</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">overridden_masks</span> : <span class="id" title="definition">kername</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="ConCert.Extraction.Optimize.html#bitmask"><span class="id" title="definition">bitmask</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">should_inline</span> : <span class="id" title="definition">kername</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) : <a class="idref" href="ConCert.Extraction.Extraction.html#extract_template_env_params"><span class="id" title="record">extract_template_env_params</span></a> :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="ConCert.Extraction.Extraction.html#Build_extract_template_env_params"><span class="id" title="constructor">check_wf_env_func</span></a> <a class="idref" href="ConCert.Extraction.Extraction.html#Build_extract_template_env_params"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Extraction.Extraction.html#Build_extract_template_env_params"><span class="id" title="constructor">check_wf_env_func</span></a> <a class="idref" href="ConCert.Extraction.Extraction.html#Build_extract_template_env_params"><span class="id" title="constructor">extract_within_coq</span></a><a class="idref" href="ConCert.Extraction.Extraction.html#Build_extract_template_env_params"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.Extraction.html#Build_extract_template_env_params"><span class="id" title="constructor">template_transforms</span></a> <a class="idref" href="ConCert.Extraction.Extraction.html#Build_extract_template_env_params"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Extraction.Extraction.html#Build_extract_template_env_params"><span class="id" title="constructor">[</span></a><a class="idref" href="ConCert.Extraction.Extraction.html#Build_extract_template_env_params"><span class="id" title="constructor">template_inline</span></a> <a class="idref" href="ConCert.Extraction.Extraction.html#Build_extract_template_env_params"><span class="id" title="constructor">should_inline</span></a><a class="idref" href="ConCert.Extraction.Extraction.html#Build_extract_template_env_params"><span class="id" title="constructor">];</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.Extraction.html#Build_extract_template_env_params"><span class="id" title="constructor">pcuic_args</span></a> <a class="idref" href="ConCert.Extraction.Extraction.html#Build_extract_template_env_params"><span class="id" title="constructor">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.Extraction.html#Build_extract_template_env_params"><span class="id" title="constructor">{|</span></a> <a class="idref" href="ConCert.Extraction.Extraction.html#Build_extract_template_env_params"><span class="id" title="constructor">optimize_prop_discr</span></a> <a class="idref" href="ConCert.Extraction.Extraction.html#Build_extract_template_env_params"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Extraction.Extraction.html#Build_extract_template_env_params"><span class="id" title="constructor">true</span></a><a class="idref" href="ConCert.Extraction.Extraction.html#Build_extract_template_env_params"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.Extraction.html#Build_extract_template_env_params"><span class="id" title="constructor">extract_transforms</span></a> <a class="idref" href="ConCert.Extraction.Extraction.html#Build_extract_template_env_params"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Extraction.Extraction.html#Build_extract_template_env_params"><span class="id" title="constructor">[</span></a><a class="idref" href="ConCert.Extraction.Extraction.html#Build_extract_template_env_params"><span class="id" title="constructor">dearg_transform</span></a> <a class="idref" href="ConCert.Extraction.Extraction.html#Build_extract_template_env_params"><span class="id" title="constructor">overridden_masks</span></a> <a class="idref" href="ConCert.Extraction.Extraction.html#Build_extract_template_env_params"><span class="id" title="constructor">true</span></a> <a class="idref" href="ConCert.Extraction.Extraction.html#Build_extract_template_env_params"><span class="id" title="constructor">false</span></a> <a class="idref" href="ConCert.Extraction.Extraction.html#Build_extract_template_env_params"><span class="id" title="constructor">false</span></a> <a class="idref" href="ConCert.Extraction.Extraction.html#Build_extract_template_env_params"><span class="id" title="constructor">false</span></a> <a class="idref" href="ConCert.Extraction.Extraction.html#Build_extract_template_env_params"><span class="id" title="constructor">false</span></a><a class="idref" href="ConCert.Extraction.Extraction.html#Build_extract_template_env_params"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.Extraction.html#Build_extract_template_env_params"><span class="id" title="constructor">ExpandBranches.transform</span></a><a class="idref" href="ConCert.Extraction.Extraction.html#Build_extract_template_env_params"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Extraction.Extraction.html#Build_extract_template_env_params"><span class="id" title="constructor">TopLevelFixes.transform</span></a><a class="idref" href="ConCert.Extraction.Extraction.html#Build_extract_template_env_params"><span class="id" title="constructor">]</span></a> <a class="idref" href="ConCert.Extraction.Extraction.html#Build_extract_template_env_params"><span class="id" title="constructor">|}</span></a> |}.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="https://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a> and <a href="https://github.com/jgallen23/toc">TOC</a>
</div>
</div>
<script>
  const elements = document.getElementsByClassName("libtitle");
  while(elements.length > 0){
        elements[0].parentNode.removeChild(elements[0]);
  }
  if (window.location.pathname.endsWith("/toc.html")) {
      const jstocDiv = document.getElementById("js-toc");
      jstocDiv.classList.remove("toc");
      jstocDiv.classList.add("jstoc-hidden");
      const jstocHeaderDiv = document.getElementById("js-toc-header");
      jstocHeaderDiv.classList.add("jstoc-hidden");
  }
  console.log(window.location.pathname);
</script>
<script type="text/javascript" src="toc.js"></script>
</body>

</html>
