<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<link href="toc.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="toc.html">Table of contents</a>
      <a href="https://github.com/AU-COBRA/ConCert" target="_balnk">Project Page</a>
    </span>
</div>
  <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="js-toc-header" class="toc-header">Contents:</div>
    <div id="js-toc" class="toc" data-toc="h1,h2,h3,h4" data-toc-container="doc">
    </div>
    <div id="main">
<h1 class="libtitle">Library ConCert.Execution.Serializable</h1>

<div class="code">
<span class="comment">(*&nbsp;This&nbsp;file&nbsp;defines&nbsp;a&nbsp;common&nbsp;storage&nbsp;format&nbsp;for&nbsp;countable&nbsp;types.<br/>
This&nbsp;format,&nbsp;SerializedValue,&nbsp;is&nbsp;either&nbsp;a&nbsp;unit/int/bool&nbsp;or&nbsp;a&nbsp;pair/list<br/>
of&nbsp;these.&nbsp;We&nbsp;also&nbsp;define&nbsp;Serializable&nbsp;as&nbsp;a&nbsp;type&nbsp;class&nbsp;capturing&nbsp;that&nbsp;a<br/>
type&nbsp;can&nbsp;be&nbsp;converted&nbsp;from&nbsp;and&nbsp;to&nbsp;this&nbsp;format.&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.Monads.html#"><span class="id" title="library">Monads</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.Containers.html#"><span class="id" title="library">Containers</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.BoundedN.html#"><span class="id" title="library">BoundedN</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.Ascii.html#"><span class="id" title="library">Ascii</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.micromega.Psatz.html#"><span class="id" title="library">Psatz</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#"><span class="id" title="library">String</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.ZArith.html#"><span class="id" title="library">ZArith</span></a>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">ListNotations</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="SerializedType"><span class="id" title="inductive">SerializedType</span></a> :=<br/>
&nbsp;&nbsp;| <a name="ser_unit"><span class="id" title="constructor">ser_unit</span></a> : <a class="idref" href="ConCert.Execution.Serializable.html#SerializedType"><span class="id" title="inductive">SerializedType</span></a><br/>
&nbsp;&nbsp;| <a name="ser_int"><span class="id" title="constructor">ser_int</span></a> : <a class="idref" href="ConCert.Execution.Serializable.html#SerializedType"><span class="id" title="inductive">SerializedType</span></a><br/>
&nbsp;&nbsp;| <a name="ser_bool"><span class="id" title="constructor">ser_bool</span></a> : <a class="idref" href="ConCert.Execution.Serializable.html#SerializedType"><span class="id" title="inductive">SerializedType</span></a><br/>
&nbsp;&nbsp;| <a name="ser_pair"><span class="id" title="constructor">ser_pair</span></a> : <a class="idref" href="ConCert.Execution.Serializable.html#SerializedType"><span class="id" title="inductive">SerializedType</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#SerializedType"><span class="id" title="inductive">SerializedType</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#SerializedType"><span class="id" title="inductive">SerializedType</span></a><br/>
&nbsp;&nbsp;| <a name="ser_list"><span class="id" title="constructor">ser_list</span></a> : <a class="idref" href="ConCert.Execution.Serializable.html#SerializedType"><span class="id" title="inductive">SerializedType</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#SerializedType"><span class="id" title="inductive">SerializedType</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a name="SerializedType"><span class="id" title="module">SerializedType</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Scheme</span> <span class="id" title="var">Equality</span> <span class="id" title="keyword">for</span> <a class="idref" href="ConCert.Execution.Serializable.html#SerializedType"><span class="id" title="inductive">SerializedType</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="SerializedType.eqb"><span class="id" title="definition">eqb</span></a> := <a class="idref" href="ConCert.Execution.Serializable.html#SerializedType.SerializedType_beq"><span class="id" title="definition">SerializedType_beq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="SerializedType.eq_dec"><span class="id" title="definition">eq_dec</span></a> := <a class="idref" href="ConCert.Execution.Serializable.html#SerializedType.SerializedType_eq_dec"><span class="id" title="definition">SerializedType_eq_dec</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="SerializedType.eqb_spec"><span class="id" title="definition">eqb_spec</span></a> (<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <a class="idref" href="ConCert.Execution.Serializable.html#SerializedType"><span class="id" title="inductive">SerializedType</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Bool.Bool.html#reflect"><span class="id" title="inductive">Bool.reflect</span></a> (<a class="idref" href="ConCert.Execution.Serializable.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#b"><span class="id" title="variable">b</span></a>) (<a class="idref" href="ConCert.Execution.Serializable.html#SerializedType.eqb"><span class="id" title="definition">eqb</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#b"><span class="id" title="variable">b</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>, <span class="id" title="var">b</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">left</span>; <span class="id" title="tactic">congruence</span>); <span class="id" title="tactic">try</span> (<span class="id" title="tactic">right</span>; <span class="id" title="tactic">congruence</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">eqb_spec</span> <span class="id" title="var">a1</span> <span class="id" title="var">b1</span>), (<span class="id" title="var">eqb_spec</span> <span class="id" title="var">a2</span> <span class="id" title="var">b2</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">left</span>; <span class="id" title="tactic">congruence</span>); <span class="id" title="tactic">try</span> (<span class="id" title="tactic">right</span>; <span class="id" title="tactic">congruence</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">eqb_spec</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>); <span class="id" title="tactic">try</span> (<span class="id" title="tactic">left</span>; <span class="id" title="tactic">congruence</span>); <span class="id" title="tactic">try</span> (<span class="id" title="tactic">right</span>; <span class="id" title="tactic">congruence</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ConCert.Execution.Serializable.html#SerializedType"><span class="id" title="module">SerializedType</span></a>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="interp_type"><span class="id" title="definition">interp_type</span></a> (<span class="id" title="var">t</span> : <a class="idref" href="ConCert.Execution.Serializable.html#SerializedType"><span class="id" title="inductive">SerializedType</span></a>) : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Execution.Serializable.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Execution.Serializable.html#ser_unit"><span class="id" title="constructor">ser_unit</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Execution.Serializable.html#ser_int"><span class="id" title="constructor">ser_int</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Execution.Serializable.html#ser_bool"><span class="id" title="constructor">ser_bool</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Execution.Serializable.html#ser_pair"><span class="id" title="constructor">ser_pair</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span> =&gt; <a class="idref" href="ConCert.Execution.Serializable.html#interp_type"><span class="id" title="definition">interp_type</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#interp_type"><span class="id" title="definition">interp_type</span></a> <span class="id" title="var">b</span><br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Execution.Serializable.html#ser_list"><span class="id" title="constructor">ser_list</span></a> <span class="id" title="var">a</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="ConCert.Execution.Serializable.html#interp_type"><span class="id" title="definition">interp_type</span></a> <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Primitive</span> <span class="id" title="var">Projections</span>.<br/>
<span class="id" title="keyword">Record</span> <a name="SerializedValue"><span class="id" title="record">SerializedValue</span></a> :=<br/>
&nbsp;&nbsp;<a name="build_ser_value"><span class="id" title="constructor">build_ser_value</span></a> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="ser_value_type"><span class="id" title="projection">ser_value_type</span></a> : <a class="idref" href="ConCert.Execution.Serializable.html#SerializedType"><span class="id" title="inductive">SerializedType</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="ser_value"><span class="id" title="projection">ser_value</span></a> : <a class="idref" href="ConCert.Execution.Serializable.html#interp_type"><span class="id" title="definition">interp_type</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#ser_value_type"><span class="id" title="method">ser_value_type</span></a>;<br/>
&nbsp;&nbsp;}.<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="var">Primitive</span> <span class="id" title="var">Projections</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="extract_ser_value"><span class="id" title="definition">extract_ser_value</span></a> (<span class="id" title="var">t</span> : <a class="idref" href="ConCert.Execution.Serializable.html#SerializedType"><span class="id" title="inductive">SerializedType</span></a>) (<span class="id" title="var">value</span> : <a class="idref" href="ConCert.Execution.Serializable.html#SerializedValue"><span class="id" title="record">SerializedValue</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="ConCert.Execution.Serializable.html#interp_type"><span class="id" title="definition">interp_type</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#t"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">value</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ty</span> <span class="id" title="var">val</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Execution.Serializable.html#eq_dec"><span class="id" title="definition">SerializedType.eq_dec</span></a> <span class="id" title="var">t</span> <span class="id" title="var">ty</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">exact</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">val</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Defines&nbsp;that&nbsp;a&nbsp;type&nbsp;can&nbsp;be&nbsp;serialized&nbsp;into&nbsp;SerializedValue&nbsp;and&nbsp;deserialized&nbsp;from&nbsp;it,<br/>
&nbsp;&nbsp;&nbsp;and&nbsp;that&nbsp;deserializing&nbsp;is&nbsp;a&nbsp;left&nbsp;inverse&nbsp;of&nbsp;serializing.&nbsp;*)</span><br/>
<span class="id" title="keyword">Class</span> <a name="Serializable"><span class="id" title="record">Serializable</span></a> (<span class="id" title="var">ty</span> : <span class="id" title="keyword">Type</span>) :=<br/>
&nbsp;&nbsp;<a name="build_serializable"><span class="id" title="constructor">build_serializable</span></a> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="serialize"><span class="id" title="projection">serialize</span></a> : <a class="idref" href="ConCert.Execution.Serializable.html#ty"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#SerializedValue"><span class="id" title="record">SerializedValue</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="deserialize"><span class="id" title="projection">deserialize</span></a> : <a class="idref" href="ConCert.Execution.Serializable.html#SerializedValue"><span class="id" title="record">SerializedValue</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#ty"><span class="id" title="variable">ty</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="deserialize_serialize"><span class="id" title="projection">deserialize_serialize</span></a> <span class="id" title="var">x</span> : <a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a> (<a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#x"><span class="id" title="variable">x</span></a>;<br/>
&nbsp;&nbsp;}.<br/>

<br/>
<span class="id" title="keyword">Global Opaque</span> <a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize_serialize"><span class="id" title="method">deserialize_serialize</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="serialize_injective"><span class="id" title="lemma">serialize_injective</span></a> {<span class="id" title="var">T</span> : <span class="id" title="keyword">Type</span>} `{<a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#T"><span class="id" title="variable">T</span></a>} <span class="id" title="var">x</span> <span class="id" title="var">y</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">enough</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">y</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- 2!<a class="idref" href="ConCert.Execution.Serializable.html#deserialize_serialize"><span class="id" title="method">deserialize_serialize</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">eq</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Program Instance</span> <a name="unit_serializable"><span class="id" title="instance">unit_serializable</span></a> : <a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">u</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">build_ser_value</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">ser_unit</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">u</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">extract_ser_value</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">ser_unit</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">;</span></a> |}.<br/>
<span class="id" title="keyword">Solve</span> <span class="id" title="keyword">Obligations</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">reflexivity</span>.<br/>

<br/>
<span class="id" title="keyword">Program Instance</span> <a name="int_serializable"><span class="id" title="instance">int_serializable</span></a> : <a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">i</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">build_ser_value</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">ser_int</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">i</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">extract_ser_value</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">ser_int</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">;</span></a> |}.<br/>
<span class="id" title="keyword">Solve</span> <span class="id" title="keyword">Obligations</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">reflexivity</span>.<br/>

<br/>
<span class="id" title="keyword">Program Instance</span> <a name="bool_serializable"><span class="id" title="instance">bool_serializable</span></a> : <a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">b</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">build_ser_value</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">ser_bool</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">b</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">extract_ser_value</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">ser_bool</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">;</span></a> |}.<br/>
<span class="id" title="keyword">Solve</span> <span class="id" title="keyword">Obligations</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">reflexivity</span>.<br/>

<br/>
<span class="id" title="keyword">Program Instance</span> <a name="nat_serializable"><span class="id" title="instance">nat_serializable</span></a> : <a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">n</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">(</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">Z.of_nat</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">n</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">);</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">z</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">do</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">z'</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">z</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">;</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">if</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">(</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">z'</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">&lt;?</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">0)%</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">Z</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">then</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">None</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">else</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">(</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">Z.to_nat</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">z'</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">);</span></a> |}.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize_serialize"><span class="id" title="method">deserialize_serialize</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.Znat.html#Nat2Z.id"><span class="id" title="lemma">Nat2Z.id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.Znat.html#Nat2Z.is_nonneg"><span class="id" title="lemma">Nat2Z.is_nonneg</span></a> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#Z.ltb_ge"><span class="id" title="lemma">Z.ltb_ge</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Program Instance</span> <a name="N_serializable"><span class="id" title="instance">N_serializable</span></a> : <a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a> :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">n</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">(</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">Z.of_N</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">n</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">);</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">z</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">do</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">z'</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">z</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">;</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">if</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">(</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">z'</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">&lt;?</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">0)%</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">Z</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">then</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">None</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">else</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">(</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">Z.to_N</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">z'</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">);</span></a> |}.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize_serialize"><span class="id" title="method">deserialize_serialize</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.Znat.html#N2Z.id"><span class="id" title="lemma">N2Z.id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.Znat.html#N2Z.is_nonneg"><span class="id" title="lemma">N2Z.is_nonneg</span></a> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#Z.ltb_ge"><span class="id" title="lemma">Z.ltb_ge</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Program Instance</span> <a name="ser_positive_equivalence"><span class="id" title="instance">ser_positive_equivalence</span></a> : <a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a> :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">p</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">(</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">Zpos</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">p</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">);</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">z</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">do</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">z'</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">z</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">;</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">if</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">(0</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">&lt;?</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">z'</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">)%</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">Z</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">then</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">(</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">Z.to_pos</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">z'</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">)</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">else</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">None</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">;</span></a> |}.<br/>
<span class="id" title="keyword">Solve</span> <span class="id" title="keyword">Obligations</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>

<br/>
<span class="id" title="keyword">Program Instance</span> <a name="ser_value_equivalence"><span class="id" title="instance">ser_value_equivalence</span></a> : <a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#SerializedValue"><span class="id" title="record">SerializedValue</span></a> :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">v</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">v</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">v</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">v</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">;</span></a> |}.<br/>
<span class="id" title="keyword">Solve</span> <span class="id" title="keyword">Obligations</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">reflexivity</span>.<br/>

<br/>
<span class="id" title="keyword">Program Instance</span> <a name="BoundedN_equivalence"><span class="id" title="instance">BoundedN_equivalence</span></a> {<span class="id" title="var">bound</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a>} : <a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> (<a class="idref" href="ConCert.Execution.BoundedN.html#BoundedN"><span class="id" title="inductive">BoundedN</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#bound"><span class="id" title="variable">bound</span></a>) :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">bn</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">(</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">countable.encode</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">bn</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">);</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">v</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">do</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">p</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">(</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">v</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">option</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">positive</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">);</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">countable.decode</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">p</span></a> |}.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">bound</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize_serialize"><span class="id" title="method">deserialize_serialize</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="method">countable.decode_encode</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Program&nbsp;Instance&nbsp;generates&nbsp;an&nbsp;insane&nbsp;amount&nbsp;of&nbsp;obligations&nbsp;for&nbsp;sums,<br/>
&nbsp;&nbsp;&nbsp;so&nbsp;we&nbsp;define&nbsp;it&nbsp;by&nbsp;ourselves.&nbsp;*)</span><br/>
<span class="id" title="keyword">Section</span> <a name="Sum"><span class="id" title="section">Sum</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <span class="id" title="var">A</span>} `{<a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <span class="id" title="var">B</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="serialize_sum"><span class="id" title="definition">serialize_sum</span></a> (<span class="id" title="var">v</span> : <a class="idref" href="ConCert.Execution.Serializable.html#Sum.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#Sum.B"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">is_left</span>, <span class="id" title="var">ser</span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Execution.Serializable.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">l</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">r</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <span class="id" title="var">r</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_ser_value"><span class="id" title="constructor">build_ser_value</span></a> (<a class="idref" href="ConCert.Execution.Serializable.html#ser_pair"><span class="id" title="constructor">ser_pair</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#ser_bool"><span class="id" title="constructor">ser_bool</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#ser"><span class="id" title="variable">ser</span></a>.(<a class="idref" href="ConCert.Execution.Serializable.html#ser_value_type"><span class="id" title="projection">ser_value_type</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Execution.Serializable.html#is_left"><span class="id" title="variable">is_left</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#ser"><span class="id" title="variable">ser</span></a>.(<a class="idref" href="ConCert.Execution.Serializable.html#ser_value"><span class="id" title="projection">ser_value</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="deserialize_sum"><span class="id" title="definition">deserialize_sum</span></a> (<span class="id" title="var">val</span> : <a class="idref" href="ConCert.Execution.Serializable.html#SerializedValue"><span class="id" title="record">SerializedValue</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="ConCert.Execution.Serializable.html#Sum.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#Sum.B"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Execution.Serializable.html#val"><span class="id" title="variable">val</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Execution.Serializable.html#build_ser_value"><span class="id" title="constructor">build_ser_value</span></a> (<a class="idref" href="ConCert.Execution.Serializable.html#ser_pair"><span class="id" title="constructor">ser_pair</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#ser_bool"><span class="id" title="constructor">ser_bool</span></a> <span class="id" title="var">v</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">is_left</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">val</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="var">is_left</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <span class="id" title="var">a</span> <a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a> (<a class="idref" href="ConCert.Execution.Serializable.html#build_ser_value"><span class="id" title="constructor">build_ser_value</span></a> <span class="id" title="var">v</span> <a class="idref" href="ConCert.Execution.Serializable.html#val"><span class="id" title="variable">val</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#Sum.A"><span class="id" title="variable">A</span></a><a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#a"><span class="id" title="variable">a</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <span class="id" title="var">b</span> <a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a> (<a class="idref" href="ConCert.Execution.Serializable.html#build_ser_value"><span class="id" title="constructor">build_ser_value</span></a> <span class="id" title="var">v</span> <a class="idref" href="ConCert.Execution.Serializable.html#val"><span class="id" title="variable">val</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#Sum.B"><span class="id" title="variable">B</span></a><a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#b"><span class="id" title="variable">b</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="deserialize_serialize_sum"><span class="id" title="lemma">deserialize_serialize_sum</span></a> (<span class="id" title="var">s</span> : <a class="idref" href="ConCert.Execution.Serializable.html#Sum.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#Sum.B"><span class="id" title="variable">B</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="ConCert.Execution.Serializable.html#deserialize_sum"><span class="id" title="definition">deserialize_sum</span></a> (<a class="idref" href="ConCert.Execution.Serializable.html#serialize_sum"><span class="id" title="definition">serialize_sum</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#s"><span class="id" title="variable">s</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Execution.Serializable.html#serialize_sum"><span class="id" title="definition">serialize_sum</span></a>, <a class="idref" href="ConCert.Execution.Serializable.html#deserialize_sum"><span class="id" title="definition">deserialize_sum</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> | <span class="id" title="var">b</span>]; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize_serialize"><span class="id" title="method">deserialize_serialize</span></a>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="sum_serializable"><span class="id" title="instance">sum_serializable</span></a> : <a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> (<a class="idref" href="ConCert.Execution.Serializable.html#Sum.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#Sum.B"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">serialize_sum</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deserialize_sum</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deserialize_serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deserialize_serialize_sum</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">;</span></a> |}.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ConCert.Execution.Serializable.html#Sum"><span class="id" title="section">Sum</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="Product"><span class="id" title="section">Product</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <span class="id" title="var">A</span>} `{<a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <span class="id" title="var">B</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="serialize_product"><span class="id" title="definition">serialize_product</span></a> (<span class="id" title="var">pair</span> : <a class="idref" href="ConCert.Execution.Serializable.html#Product.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#Product.B"><span class="id" title="variable">B</span></a>) : <a class="idref" href="ConCert.Execution.Serializable.html#SerializedValue"><span class="id" title="record">SerializedValue</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">a</span>, <span class="id" title="var">b</span>) := <a class="idref" href="ConCert.Execution.Serializable.html#pair"><span class="id" title="variable">pair</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">a_ty</span>, <span class="id" title="var">a_val</span>) := <a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">b_ty</span>, <span class="id" title="var">b_val</span>) := <a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#b"><span class="id" title="variable">b</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_ser_value"><span class="id" title="constructor">build_ser_value</span></a> (<a class="idref" href="ConCert.Execution.Serializable.html#ser_pair"><span class="id" title="constructor">ser_pair</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#a_ty"><span class="id" title="variable">a_ty</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#b_ty"><span class="id" title="variable">b_ty</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Execution.Serializable.html#a_val"><span class="id" title="variable">a_val</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#b_val"><span class="id" title="variable">b_val</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="deserialize_product"><span class="id" title="definition">deserialize_product</span></a> (<span class="id" title="var">val</span> : <a class="idref" href="ConCert.Execution.Serializable.html#SerializedValue"><span class="id" title="record">SerializedValue</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="ConCert.Execution.Serializable.html#Product.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#Product.B"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Execution.Serializable.html#val"><span class="id" title="variable">val</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Execution.Serializable.html#build_ser_value"><span class="id" title="constructor">build_ser_value</span></a> (<a class="idref" href="ConCert.Execution.Serializable.html#ser_pair"><span class="id" title="constructor">ser_pair</span></a> <span class="id" title="var">a_ty</span> <span class="id" title="var">b_ty</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a_val</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b_val</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <span class="id" title="var">a</span> <a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a> (<a class="idref" href="ConCert.Execution.Serializable.html#build_ser_value"><span class="id" title="constructor">build_ser_value</span></a> <span class="id" title="var">a_ty</span> <span class="id" title="var">a_val</span>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#Product.A"><span class="id" title="variable">A</span></a><a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <span class="id" title="var">b</span> <a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a> (<a class="idref" href="ConCert.Execution.Serializable.html#build_ser_value"><span class="id" title="constructor">build_ser_value</span></a> <span class="id" title="var">b_ty</span> <span class="id" title="var">b_val</span>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#Product.B"><span class="id" title="variable">B</span></a><a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Execution.Serializable.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="deserialize_serialize_product"><span class="id" title="lemma">deserialize_serialize_product</span></a> (<span class="id" title="var">p</span> : <a class="idref" href="ConCert.Execution.Serializable.html#Product.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#Product.B"><span class="id" title="variable">B</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="ConCert.Execution.Serializable.html#deserialize_product"><span class="id" title="definition">deserialize_product</span></a> (<a class="idref" href="ConCert.Execution.Serializable.html#serialize_product"><span class="id" title="definition">serialize_product</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#p"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#p"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Execution.Serializable.html#serialize_product"><span class="id" title="definition">serialize_product</span></a>, <a class="idref" href="ConCert.Execution.Serializable.html#deserialize_product"><span class="id" title="definition">deserialize_product</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize_serialize"><span class="id" title="method">deserialize_serialize</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="product_serializable"><span class="id" title="instance">product_serializable</span></a> : <a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> (<a class="idref" href="ConCert.Execution.Serializable.html#Product.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#Product.B"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">serialize_product</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deserialize_product</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deserialize_serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deserialize_serialize_product</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">;</span></a> |}.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ConCert.Execution.Serializable.html#Product"><span class="id" title="section">Product</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="List"><span class="id" title="section">List</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <span class="id" title="var">A</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="serialize_list"><span class="id" title="definition">serialize_list</span></a> (<span class="id" title="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#List.A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="ConCert.Execution.Serializable.html#SerializedValue"><span class="id" title="record">SerializedValue</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">go</span> <span class="id" title="var">a</span> (<span class="id" title="var">acc</span> : <a class="idref" href="ConCert.Execution.Serializable.html#SerializedValue"><span class="id" title="record">SerializedValue</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">a_ty</span>, <span class="id" title="var">a_val</span>) := <a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">acc_ty</span>, <span class="id" title="var">acc_val</span>) := <a class="idref" href="ConCert.Execution.Serializable.html#acc"><span class="id" title="variable">acc</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_ser_value"><span class="id" title="constructor">build_ser_value</span></a> (<a class="idref" href="ConCert.Execution.Serializable.html#ser_pair"><span class="id" title="constructor">ser_pair</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#a_ty"><span class="id" title="variable">a_ty</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#acc_ty"><span class="id" title="variable">acc_ty</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Execution.Serializable.html#a_val"><span class="id" title="variable">a_val</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#acc_val"><span class="id" title="variable">acc_val</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#go"><span class="id" title="variable">go</span></a> (<a class="idref" href="ConCert.Execution.Serializable.html#build_ser_value"><span class="id" title="constructor">build_ser_value</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#ser_unit"><span class="id" title="constructor">ser_unit</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>) <a class="idref" href="ConCert.Execution.Serializable.html#l"><span class="id" title="variable">l</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="deserialize_list"><span class="id" title="definition">deserialize_list</span></a> (<span class="id" title="var">val</span> : <a class="idref" href="ConCert.Execution.Serializable.html#SerializedValue"><span class="id" title="record">SerializedValue</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#List.A"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">fix</span> <span class="id" title="var">aux</span> (<span class="id" title="var">ty</span> : <a class="idref" href="ConCert.Execution.Serializable.html#SerializedType"><span class="id" title="inductive">SerializedType</span></a>) (<span class="id" title="var">val</span> : <a class="idref" href="ConCert.Execution.Serializable.html#interp_type"><span class="id" title="definition">interp_type</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#ty"><span class="id" title="variable">ty</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#List.A"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Execution.Serializable.html#ty"><span class="id" title="variable">ty</span></a>, <a class="idref" href="ConCert.Execution.Serializable.html#val"><span class="id" title="variable">val</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Execution.Serializable.html#ser_pair"><span class="id" title="constructor">ser_pair</span></a> <span class="id" title="var">hd_ty</span> <span class="id" title="var">tl_ty</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">hd_val</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">tl_val</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <span class="id" title="var">hd</span> <a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a> (<a class="idref" href="ConCert.Execution.Serializable.html#build_ser_value"><span class="id" title="constructor">build_ser_value</span></a> <span class="id" title="var">hd_ty</span> <span class="id" title="var">hd_val</span>)<a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <span class="id" title="var">tl</span> <a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#aux"><span class="id" title="variable">aux</span></a> <span class="id" title="var">tl_ty</span> <span class="id" title="var">tl_val</span><a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="ConCert.Execution.Serializable.html#hd"><span class="id" title="variable">hd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#tl"><span class="id" title="variable">tl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Execution.Serializable.html#ser_unit"><span class="id" title="constructor">ser_unit</span></a>, <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">ty</span>, <span class="id" title="var">uval</span>) := <a class="idref" href="ConCert.Execution.Serializable.html#val"><span class="id" title="variable">val</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#aux"><span class="id" title="variable">aux</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#ty"><span class="id" title="variable">ty</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#uval"><span class="id" title="variable">uval</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="deserialize_serialize_list"><span class="id" title="lemma">deserialize_serialize_list</span></a> (<span class="id" title="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#List.A"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="ConCert.Execution.Serializable.html#deserialize_list"><span class="id" title="definition">deserialize_list</span></a> (<a class="idref" href="ConCert.Execution.Serializable.html#serialize_list"><span class="id" title="definition">serialize_list</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#l"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#l"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Execution.Serializable.html#serialize_list"><span class="id" title="definition">serialize_list</span></a>, <a class="idref" href="ConCert.Execution.Serializable.html#deserialize_list"><span class="id" title="definition">deserialize_list</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">hd</span> <span class="id" title="var">tl</span> <span class="id" title="var">IHl</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize_serialize"><span class="id" title="method">deserialize_serialize</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="list_serializable"><span class="id" title="instance">list_serializable</span></a> : <a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#List.A"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">serialize_list</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deserialize_list</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deserialize_serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deserialize_serialize_list</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">;</span></a> |}.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ConCert.Execution.Serializable.html#List"><span class="id" title="section">List</span></a>.<br/>

<br/>
<span class="id" title="keyword">Program Instance</span> <a name="map_serializable"><span class="id" title="instance">map_serializable</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<span class="id" title="class">countable.Countable</span> <a class="idref" href="ConCert.Execution.Serializable.html#A"><span class="id" title="variable">A</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <span class="id" title="var">B</span>}<br/>
&nbsp;&nbsp;: <a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> (<a class="idref" href="ConCert.Execution.Containers.html#FMap"><span class="id" title="abbreviation">FMap</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#B"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">m</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">(@</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">FMap.elements</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">A</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">B</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">_</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">_</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">m</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">);</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">val</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">do</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">elems</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">val</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">option</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">(</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">list</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">(</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">A</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">*</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">B</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">));</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">(</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">FMap.of_list</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">elems</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">);</span></a> |}.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize_serialize"><span class="id" title="method">deserialize_serialize</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Execution.Containers.html#FMap.of_elements_eq"><span class="id" title="lemma">FMap.of_elements_eq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Program Instance</span> <a name="set_serializable"><span class="id" title="instance">set_serializable</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<span class="id" title="class">countable.Countable</span> <a class="idref" href="ConCert.Execution.Serializable.html#A"><span class="id" title="variable">A</span></a>}<br/>
&nbsp;&nbsp;: <a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> (<a class="idref" href="ConCert.Execution.Containers.html#FMap"><span class="id" title="abbreviation">FMap</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>) :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">s</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">(@</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">FMap.elements</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">A</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">unit</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">_</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">_</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">s</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">);</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">val</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">do</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">elems</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">val</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">option</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">(</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">list</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">(</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">A</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">*</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">unit</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">));</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">(</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">FMap.of_list</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">elems</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">);</span></a> |}.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize_serialize"><span class="id" title="method">deserialize_serialize</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Execution.Containers.html#FMap.of_elements_eq"><span class="id" title="lemma">FMap.of_elements_eq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Program Instance</span> <a name="option_serializable"><span class="id" title="instance">option_serializable</span></a> `{<a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <span class="id" title="var">A</span>} : <a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#A"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">s</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">serialize</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">match</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">s</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">with</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">|</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">None</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">=&gt;</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">inl</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">tt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">|</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">s</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">=&gt;</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">inr</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">s</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">end</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">s</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">do</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">s</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">s</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">match</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">s</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">unit</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">+</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">A</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">with</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">|</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">inl</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">_</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">=&gt;</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">|</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">inr</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">s</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">=&gt;</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">(</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">s</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">end</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">;</span></a> |}.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize_serialize"><span class="id" title="method">deserialize_serialize</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Program Instance</span> <a name="ascii_serializable"><span class="id" title="instance">ascii_serializable</span></a> : <a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.Ascii.html#ascii"><span class="id" title="inductive">ascii</span></a> :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">a</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">(</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">Ascii.N_of_ascii</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">a</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">);</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">p</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">do</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">p</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">p</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">if</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">(</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">p</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">&lt;?</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">256)%</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">N</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">then</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">(</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">Ascii.ascii_of_N</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">p</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">else</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">None</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">;</span></a> |}.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize_serialize"><span class="id" title="method">deserialize_serialize</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.Ascii.html#N_ascii_bounded"><span class="id" title="lemma">N_ascii_bounded</span></a> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.NArith.BinNat.html#N.ltb_lt"><span class="id" title="lemma">N.ltb_lt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.Ascii.html#ascii_N_embedding"><span class="id" title="lemma">ascii_N_embedding</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Program Instance</span> <a name="string_serializable"><span class="id" title="instance">string_serializable</span></a> : <a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">s</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">(</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">list_ascii_of_string</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">s</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">);</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">p</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">do</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">la</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">p</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">(</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">string_of_list_ascii</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">la</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">);</span></a> |}.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize_serialize"><span class="id" title="method">deserialize_serialize</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#string_of_list_ascii_of_string"><span class="id" title="lemma">string_of_list_ascii_of_string</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">make_serializer_case</span> <span class="id" title="var">ty</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">ty</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| ?<span class="id" title="var">T1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> ?<span class="id" title="var">T2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">rest</span> := <span class="id" title="var">make_serializer_case</span> <span class="id" title="var">T2</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">constr</span>:(<span class="id" title="keyword">fun</span> (<span class="id" title="var">f</span> : <a class="idref" href="ConCert.Execution.Serializable.html#SerializedValue"><span class="id" title="record">SerializedValue</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#SerializedValue"><span class="id" title="record">SerializedValue</span></a>) (<span class="id" title="var">v</span> : <span class="id" title="var">T1</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rest</span> (<span class="id" title="keyword">fun</span> (<span class="id" title="var">cur</span> : <a class="idref" href="ConCert.Execution.Serializable.html#SerializedValue"><span class="id" title="record">SerializedValue</span></a>) =&gt; <a class="idref" href="ConCert.Execution.Serializable.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Execution.Serializable.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#cur"><span class="id" title="variable">cur</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)))<br/>
&nbsp;&nbsp;| <a class="idref" href="ConCert.Execution.Serializable.html#SerializedValue"><span class="id" title="record">SerializedValue</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">constr</span>:(<span class="id" title="keyword">fun</span> (<span class="id" title="var">f</span> : <a class="idref" href="ConCert.Execution.Serializable.html#SerializedValue"><span class="id" title="record">SerializedValue</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#SerializedValue"><span class="id" title="record">SerializedValue</span></a>) =&gt; <a class="idref" href="ConCert.Execution.Serializable.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>))<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">make_serializer_aux</span> <span class="id" title="var">term</span> <span class="id" title="var">tag</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">term</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| ?<span class="id" title="var">T1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a>?<span class="id" title="var">T2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> ?<span class="id" title="var">T3</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">cs</span> := <span class="id" title="var">make_serializer_case</span> <span class="id" title="var">T1</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">cs</span> := <span class="id" title="keyword">constr</span>:(<span class="id" title="var">cs</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">tag</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">term</span> := (<span class="id" title="tactic">eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> (<span class="id" title="var">term</span> <span class="id" title="var">cs</span>)) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">make_serializer_aux</span> <span class="id" title="var">term</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">tag</span>)<br/>
&nbsp;&nbsp;| ?<span class="id" title="var">T</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#SerializedValue"><span class="id" title="record">SerializedValue</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">term</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">make_serializer</span> <span class="id" title="var">eliminator</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">term</span> := (<span class="id" title="tactic">eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> (<span class="id" title="var">eliminator</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="ConCert.Execution.Serializable.html#SerializedValue"><span class="id" title="record">SerializedValue</span></a>))) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">serializer</span> := <span class="id" title="var">make_serializer_aux</span> <span class="id" title="var">term</span> 0 <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">eval</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">serializer</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">make_deserializer_case</span> <span class="id" title="var">ty</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">ty</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| ?<span class="id" title="var">T1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> ?<span class="id" title="var">T2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">rest</span> := <span class="id" title="var">make_deserializer_case</span> <span class="id" title="var">T2</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">constr</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">builder</span> <span class="id" title="var">sv</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#4842b7321410137459b4dcd7c5f317e4"><span class="id" title="notation">do</span></a> <a class="idref" href="ConCert.Execution.Monads.html#4842b7321410137459b4dcd7c5f317e4"><span class="id" title="notation">'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">sv</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="ConCert.Execution.Monads.html#4842b7321410137459b4dcd7c5f317e4"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Monads.html#4842b7321410137459b4dcd7c5f317e4"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#sv"><span class="id" title="variable">sv</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<span class="id" title="var">T1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#SerializedValue"><span class="id" title="record">SerializedValue</span></a>)<a class="idref" href="ConCert.Execution.Monads.html#4842b7321410137459b4dcd7c5f317e4"><span class="id" title="notation">);</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rest</span> (<a class="idref" href="ConCert.Execution.Serializable.html#builder"><span class="id" title="variable">builder</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#a"><span class="id" title="variable">a</span></a>) <a class="idref" href="ConCert.Execution.Serializable.html#sv"><span class="id" title="variable">sv</span></a>)<br/>
&nbsp;&nbsp;| ?<span class="id" title="var">T</span> =&gt; <span class="id" title="keyword">constr</span>:(<span class="id" title="keyword">fun</span> (<span class="id" title="var">value</span> : <span class="id" title="var">T</span>) (<span class="id" title="var">sv</span> : <a class="idref" href="ConCert.Execution.Serializable.html#SerializedValue"><span class="id" title="record">SerializedValue</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <span class="id" title="var">_</span> <a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#sv"><span class="id" title="variable">sv</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a><a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">);</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#value"><span class="id" title="variable">value</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">make_deserializer_aux</span> <span class="id" title="var">ctors</span> <span class="id" title="var">rty</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">ctors</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>?<span class="id" title="var">ctor</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">tl</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">ty</span> := <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">ctor</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">cs</span> := <span class="id" title="var">make_deserializer_case</span> <span class="id" title="var">ty</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">rest</span> := <span class="id" title="var">make_deserializer_aux</span> <span class="id" title="var">tl</span> <span class="id" title="var">rty</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">constr</span>:(<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">tag</span> <span class="id" title="var">sv</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Execution.Serializable.html#tag"><span class="id" title="variable">tag</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 =&gt; <span class="id" title="var">cs</span> <span class="id" title="var">ctor</span> <a class="idref" href="ConCert.Execution.Serializable.html#sv"><span class="id" title="variable">sv</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">tag</span> =&gt; <span class="id" title="var">rest</span> <a class="idref" href="ConCert.Execution.Serializable.html#tag"><span class="id" title="variable">tag</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#sv"><span class="id" title="variable">sv</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> =&gt; <span class="id" title="keyword">constr</span>:(<span class="id" title="keyword">fun</span> (<span class="id" title="var">tag</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">sv</span> : <a class="idref" href="ConCert.Execution.Serializable.html#SerializedValue"><span class="id" title="record">SerializedValue</span></a>) =&gt; @<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="var">rty</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">get_final_type</span> <span class="id" title="var">ty</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">ty</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| ?<span class="id" title="var">T1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> ?<span class="id" title="var">T2</span> =&gt; <span class="id" title="var">get_final_type</span> <span class="id" title="var">T2</span><br/>
&nbsp;&nbsp;| ?<span class="id" title="var">T</span> =&gt; <span class="id" title="var">T</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">make_deserializer</span> <span class="id" title="var">ctors</span> <span class="id" title="var">rty</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">deser</span> := <span class="id" title="var">make_deserializer_aux</span> <span class="id" title="var">ctors</span> <span class="id" title="var">rty</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">deser</span> := <span class="id" title="keyword">constr</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">sv</span> =&gt; <a class="idref" href="ConCert.Execution.Monads.html#4842b7321410137459b4dcd7c5f317e4"><span class="id" title="notation">do</span></a> <a class="idref" href="ConCert.Execution.Monads.html#4842b7321410137459b4dcd7c5f317e4"><span class="id" title="notation">'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">tag</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">sv</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="ConCert.Execution.Monads.html#4842b7321410137459b4dcd7c5f317e4"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#sv"><span class="id" title="variable">sv</span></a><a class="idref" href="ConCert.Execution.Monads.html#4842b7321410137459b4dcd7c5f317e4"><span class="id" title="notation">;</span></a> <span class="id" title="var">deser</span> <a class="idref" href="ConCert.Execution.Serializable.html#tag"><span class="id" title="variable">tag</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#sv"><span class="id" title="variable">sv</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">eval</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">deser</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">get_ty_from_elim_ty</span> <span class="id" title="var">ty</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">ty</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="keyword">forall</span> (<span class="id" title="var">_</span> : ?<span class="id" title="var">T</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>), <span class="id" title="var">_</span> =&gt; <span class="id" title="var">T</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">make_serializable</span> <span class="id" title="var">eliminator</span> <span class="id" title="var">ctors</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">ser</span> := <span class="id" title="var">make_serializer</span> <span class="id" title="var">eliminator</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">elim_ty</span> := <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">eliminator</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">ty</span> := <span class="id" title="var">get_ty_from_elim_ty</span> <span class="id" title="var">elim_ty</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">deser</span> := <span class="id" title="var">make_deserializer</span> <span class="id" title="var">ctors</span> <span class="id" title="var">ty</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">ser</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deser</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deserialize_serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">ltac</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">:(</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">intros</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">[];</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">repeat</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">(</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">cbn</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">in</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">*;</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">try</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">rewrite</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">deserialize_serialize</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">;</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">auto</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_serializable"><span class="id" title="constructor">))</span></a> |}.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="a331a5d1e0dd6821e41b0b1486a487aa"><span class="id" title="notation">&quot;</span></a>'Derive' 'Serializable' rect" :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">ltac</span>:(<span class="id" title="var">make_serializable</span> <span class="id" title="var">rect</span> <span class="id" title="var">tt</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">rect</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 10, <span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="70b92666138db7c4a5e7f9f8911f246a"><span class="id" title="notation">&quot;</span></a>'Derive' 'Serializable' rect &lt; c0 , .. , cn &gt;" :=<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">let</span> <span class="id" title="var">pairs</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> <span class="id" title="var">c0</span> .. (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> <span class="id" title="var">cn</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>) .. <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">ltac</span>:(<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;This&nbsp;matches&nbsp;last-to-first&nbsp;so&nbsp;it&nbsp;always&nbsp;finds&nbsp;'pairs'&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">pairs</span> := ?<span class="id" title="var">x</span> |- <span class="id" title="var">_</span>] =&gt; <span class="id" title="var">make_serializable</span> <span class="id" title="var">rect</span> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">rect</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 10, <span class="id" title="var">c0</span>, <span class="id" title="var">cn</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 9, <span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="Countable"><span class="id" title="section">Countable</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="SerializedType_interp_EqDecision"><span class="id" title="instance">SerializedType_interp_EqDecision</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">t</span> : <a class="idref" href="ConCert.Execution.Serializable.html#SerializedType"><span class="id" title="inductive">SerializedType</span></a>) : <span class="id" title="abbreviation">stdpp.base.EqDecision</span> (<a class="idref" href="ConCert.Execution.Serializable.html#interp_type"><span class="id" title="definition">interp_type</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#t"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">t</span>; <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Defined</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="SerializedType_interp_Countable"><span class="id" title="instance">SerializedType_interp_Countable</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">t</span> : <a class="idref" href="ConCert.Execution.Serializable.html#SerializedType"><span class="id" title="inductive">SerializedType</span></a>) : <span class="id" title="class">countable.Countable</span> (<a class="idref" href="ConCert.Execution.Serializable.html#interp_type"><span class="id" title="definition">interp_type</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#t"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">t</span>; <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="SerializedValue_EqDecision"><span class="id" title="instance">SerializedValue_EqDecision</span></a> : <span class="id" title="abbreviation">stdpp.base.EqDecision</span> <a class="idref" href="ConCert.Execution.Serializable.html#SerializedValue"><span class="id" title="record">SerializedValue</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">xt</span> <span class="id" title="var">xv</span>], <span class="id" title="var">y</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">yt</span> <span class="id" title="var">yv</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Execution.Serializable.html#eq_dec"><span class="id" title="definition">SerializedType.eq_dec</span></a> <span class="id" title="var">xt</span> <span class="id" title="var">yt</span>) <span class="id" title="keyword">as</span> [&lt;-|?]; [|<span class="id" title="tactic">right</span>; <span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">stdpp.base.decide</span> (<span class="id" title="var">xv</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">yv</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="SerializedType_EqDecision"><span class="id" title="instance">SerializedType_EqDecision</span></a> : <span class="id" title="abbreviation">stdpp.base.EqDecision</span> <a class="idref" href="ConCert.Execution.Serializable.html#SerializedType"><span class="id" title="inductive">SerializedType</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ConCert.Execution.Serializable.html#eq_dec"><span class="id" title="definition">SerializedType.eq_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> [&lt;-|?]; [<span class="id" title="tactic">left</span>|<span class="id" title="tactic">right</span>]; <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="depth"><span class="id" title="definition">depth</span></a> <span class="id" title="var">st</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Execution.Serializable.html#st"><span class="id" title="variable">st</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Execution.Serializable.html#ser_unit"><span class="id" title="constructor">ser_unit</span></a> =&gt; 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Execution.Serializable.html#ser_int"><span class="id" title="constructor">ser_int</span></a> =&gt; 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Execution.Serializable.html#ser_bool"><span class="id" title="constructor">ser_bool</span></a> =&gt; 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Execution.Serializable.html#ser_pair"><span class="id" title="constructor">ser_pair</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Peano.html#max"><span class="id" title="abbreviation">max</span></a> (<a class="idref" href="ConCert.Execution.Serializable.html#depth"><span class="id" title="definition">depth</span></a> <span class="id" title="var">x</span>) (<a class="idref" href="ConCert.Execution.Serializable.html#depth"><span class="id" title="definition">depth</span></a> <span class="id" title="var">y</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Execution.Serializable.html#ser_list"><span class="id" title="constructor">ser_list</span></a> <span class="id" title="var">x</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="ConCert.Execution.Serializable.html#depth"><span class="id" title="definition">depth</span></a> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">positive</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="encode_st_body"><span class="id" title="definition">encode_st_body</span></a> (<span class="id" title="var">st</span> : <a class="idref" href="ConCert.Execution.Serializable.html#SerializedType"><span class="id" title="inductive">SerializedType</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Execution.Serializable.html#st"><span class="id" title="variable">st</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Execution.Serializable.html#ser_unit"><span class="id" title="constructor">ser_unit</span></a> =&gt; <span class="id" title="method">countable.encode</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Execution.Serializable.html#ser_int"><span class="id" title="constructor">ser_int</span></a> =&gt; <span class="id" title="method">countable.encode</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>2<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Execution.Serializable.html#ser_bool"><span class="id" title="constructor">ser_bool</span></a> =&gt; <span class="id" title="method">countable.encode</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>3<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Execution.Serializable.html#ser_pair"><span class="id" title="constructor">ser_pair</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> =&gt; <span class="id" title="method">countable.encode</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>4<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="method">countable.encode</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Execution.Serializable.html#encode_st_body"><span class="id" title="definition">encode_st_body</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#encode_st_body"><span class="id" title="definition">encode_st_body</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ConCert.Execution.Serializable.html#ser_list"><span class="id" title="constructor">ser_list</span></a> <span class="id" title="var">x</span> =&gt; <span class="id" title="method">countable.encode</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>5<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#encode_st_body"><span class="id" title="definition">encode_st_body</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="encode_st"><span class="id" title="definition">encode_st</span></a> (<span class="id" title="var">st</span> : <a class="idref" href="ConCert.Execution.Serializable.html#SerializedType"><span class="id" title="inductive">SerializedType</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">countable.encode</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Execution.Serializable.html#depth"><span class="id" title="definition">depth</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#st"><span class="id" title="variable">st</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#encode_st_body"><span class="id" title="definition">encode_st_body</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#st"><span class="id" title="variable">st</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="decode_st_body"><span class="id" title="definition">decode_st_body</span></a> (<span class="id" title="var">depth</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">p</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#SerializedType"><span class="id" title="inductive">SerializedType</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Execution.Serializable.html#depth"><span class="id" title="variable">depth</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| 0%<span class="id" title="var">nat</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">depth</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#4842b7321410137459b4dcd7c5f317e4"><span class="id" title="notation">do</span></a> <a class="idref" href="ConCert.Execution.Monads.html#4842b7321410137459b4dcd7c5f317e4"><span class="id" title="notation">'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">tag</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">body</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="ConCert.Execution.Monads.html#4842b7321410137459b4dcd7c5f317e4"><span class="id" title="notation">&lt;-</span></a> <span class="id" title="method">countable.decode</span> <a class="idref" href="ConCert.Execution.Serializable.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="ConCert.Execution.Monads.html#4842b7321410137459b4dcd7c5f317e4"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ConCert.Execution.Serializable.html#tag"><span class="id" title="variable">tag</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 1 =&gt; <a class="idref" href="ConCert.Execution.Monads.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#ser_unit"><span class="id" title="constructor">ser_unit</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 2 =&gt; <a class="idref" href="ConCert.Execution.Monads.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#ser_int"><span class="id" title="constructor">ser_int</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 3 =&gt; <a class="idref" href="ConCert.Execution.Monads.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#ser_bool"><span class="id" title="constructor">ser_bool</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 4 =&gt; <a class="idref" href="ConCert.Execution.Monads.html#4842b7321410137459b4dcd7c5f317e4"><span class="id" title="notation">do</span></a> <a class="idref" href="ConCert.Execution.Monads.html#4842b7321410137459b4dcd7c5f317e4"><span class="id" title="notation">'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="ConCert.Execution.Monads.html#4842b7321410137459b4dcd7c5f317e4"><span class="id" title="notation">&lt;-</span></a> <span class="id" title="method">countable.decode</span> <a class="idref" href="ConCert.Execution.Serializable.html#body"><span class="id" title="variable">body</span></a><a class="idref" href="ConCert.Execution.Monads.html#4842b7321410137459b4dcd7c5f317e4"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <span class="id" title="var">x</span> <a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#decode_st_body"><span class="id" title="definition">decode_st_body</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#depth"><span class="id" title="variable">depth</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <span class="id" title="var">y</span> <a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#decode_st_body"><span class="id" title="definition">decode_st_body</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#depth"><span class="id" title="variable">depth</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#ret"><span class="id" title="method">ret</span></a> (<a class="idref" href="ConCert.Execution.Serializable.html#ser_pair"><span class="id" title="constructor">ser_pair</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y"><span class="id" title="variable">y</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 5 =&gt; <a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <span class="id" title="var">x</span> <a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#decode_st_body"><span class="id" title="definition">decode_st_body</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#depth"><span class="id" title="variable">depth</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#body"><span class="id" title="variable">body</span></a><a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#ret"><span class="id" title="method">ret</span></a> (<a class="idref" href="ConCert.Execution.Serializable.html#ser_list"><span class="id" title="constructor">ser_list</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#x"><span class="id" title="variable">x</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="decode_st"><span class="id" title="definition">decode_st</span></a> (<span class="id" title="var">p</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#SerializedType"><span class="id" title="inductive">SerializedType</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#4842b7321410137459b4dcd7c5f317e4"><span class="id" title="notation">do</span></a> <a class="idref" href="ConCert.Execution.Monads.html#4842b7321410137459b4dcd7c5f317e4"><span class="id" title="notation">'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">depth</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">body</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="ConCert.Execution.Monads.html#4842b7321410137459b4dcd7c5f317e4"><span class="id" title="notation">&lt;-</span></a> <span class="id" title="method">countable.decode</span> <a class="idref" href="ConCert.Execution.Serializable.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="ConCert.Execution.Monads.html#4842b7321410137459b4dcd7c5f317e4"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#decode_st_body"><span class="id" title="definition">decode_st_body</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#depth"><span class="id" title="variable">depth</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#body"><span class="id" title="variable">body</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">nat</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="decode_st_body_encode_st_body"><span class="id" title="lemma">decode_st_body_encode_st_body</span></a> (<span class="id" title="var">d</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">st</span> : <a class="idref" href="ConCert.Execution.Serializable.html#SerializedType"><span class="id" title="inductive">SerializedType</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#depth"><span class="id" title="definition">depth</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#st"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#decode_st_body"><span class="id" title="definition">decode_st_body</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#d"><span class="id" title="variable">d</span></a> (<a class="idref" href="ConCert.Execution.Serializable.html#encode_st_body"><span class="id" title="definition">encode_st_body</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#st"><span class="id" title="variable">st</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#st"><span class="id" title="variable">st</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">st</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">d</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">st</span> <span class="id" title="var">dle</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">st</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">st</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<span class="id" title="method">countable.decode_encode</span>, !<span class="id" title="var">IHd</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> !<span class="id" title="method">countable.decode_encode</span>, !<span class="id" title="var">IHd</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="decode_st_encode_st"><span class="id" title="lemma">decode_st_encode_st</span></a> (<span class="id" title="var">st</span> : <a class="idref" href="ConCert.Execution.Serializable.html#SerializedType"><span class="id" title="inductive">SerializedType</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#decode_st"><span class="id" title="definition">decode_st</span></a> (<a class="idref" href="ConCert.Execution.Serializable.html#encode_st"><span class="id" title="definition">encode_st</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#st"><span class="id" title="variable">st</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#st"><span class="id" title="variable">st</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Execution.Serializable.html#decode_st"><span class="id" title="definition">decode_st</span></a>, <a class="idref" href="ConCert.Execution.Serializable.html#encode_st"><span class="id" title="definition">encode_st</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="method">countable.decode_encode</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Execution.Serializable.html#decode_st_body_encode_st_body"><span class="id" title="lemma">decode_st_body_encode_st_body</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">positive</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="SerializedType_Countable"><span class="id" title="instance">SerializedType_Countable</span></a> : <span class="id" title="class">countable.Countable</span> <a class="idref" href="ConCert.Execution.Serializable.html#SerializedType"><span class="id" title="inductive">SerializedType</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <span class="id" title="constructor">countable.encode</span> <span class="id" title="constructor">:=</span> <span class="id" title="constructor">encode_st</span><span class="id" title="constructor">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="constructor">countable.decode</span> <span class="id" title="constructor">:=</span> <span class="id" title="constructor">decode_st</span><span class="id" title="constructor">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="constructor">countable.decode_encode</span> <span class="id" title="constructor">:=</span> <span class="id" title="constructor">decode_st_encode_st</span> |}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="encode_sv"><span class="id" title="definition">encode_sv</span></a> (<span class="id" title="var">sv</span> : <a class="idref" href="ConCert.Execution.Serializable.html#SerializedValue"><span class="id" title="record">SerializedValue</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">countable.encode</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Execution.Serializable.html#ser_value_type"><span class="id" title="projection">ser_value_type</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#sv"><span class="id" title="variable">sv</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="method">countable.encode</span> (<a class="idref" href="ConCert.Execution.Serializable.html#ser_value"><span class="id" title="projection">ser_value</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#sv"><span class="id" title="variable">sv</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="decode_sv"><span class="id" title="definition">decode_sv</span></a> (<span class="id" title="var">p</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#SerializedValue"><span class="id" title="record">SerializedValue</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#4842b7321410137459b4dcd7c5f317e4"><span class="id" title="notation">do</span></a> <a class="idref" href="ConCert.Execution.Monads.html#4842b7321410137459b4dcd7c5f317e4"><span class="id" title="notation">'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">ty</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="ConCert.Execution.Monads.html#4842b7321410137459b4dcd7c5f317e4"><span class="id" title="notation">&lt;-</span></a> <span class="id" title="method">countable.decode</span> <a class="idref" href="ConCert.Execution.Serializable.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="ConCert.Execution.Monads.html#4842b7321410137459b4dcd7c5f317e4"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">do</span></a> <span class="id" title="var">v</span> <a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">&lt;-</span></a> <span class="id" title="method">countable.decode</span> <a class="idref" href="ConCert.Execution.Serializable.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="ConCert.Execution.Monads.html#bbeef38f67325be53cb9324ba9182131"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Monads.html#ret"><span class="id" title="method">ret</span></a> {| <a class="idref" href="ConCert.Execution.Serializable.html#build_ser_value"><span class="id" title="constructor">ser_value_type</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_ser_value"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_ser_value"><span class="id" title="constructor">ty</span></a><a class="idref" href="ConCert.Execution.Serializable.html#build_ser_value"><span class="id" title="constructor">;</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_ser_value"><span class="id" title="constructor">ser_value</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_ser_value"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#build_ser_value"><span class="id" title="constructor">v</span></a> |}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="decode_sv_encode_sv"><span class="id" title="lemma">decode_sv_encode_sv</span></a> (<span class="id" title="var">sv</span> : <a class="idref" href="ConCert.Execution.Serializable.html#SerializedValue"><span class="id" title="record">SerializedValue</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#decode_sv"><span class="id" title="definition">decode_sv</span></a> (<a class="idref" href="ConCert.Execution.Serializable.html#encode_sv"><span class="id" title="definition">encode_sv</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#sv"><span class="id" title="variable">sv</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#sv"><span class="id" title="variable">sv</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Execution.Serializable.html#decode_sv"><span class="id" title="definition">decode_sv</span></a>, <a class="idref" href="ConCert.Execution.Serializable.html#encode_sv"><span class="id" title="definition">encode_sv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="method">countable.decode_encode</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="method">countable.decode_encode</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="SerializedValue_Countable"><span class="id" title="instance">SerializedValue_Countable</span></a> : <span class="id" title="class">countable.Countable</span> <a class="idref" href="ConCert.Execution.Serializable.html#SerializedValue"><span class="id" title="record">SerializedValue</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <span class="id" title="constructor">countable.encode</span> <span class="id" title="constructor">:=</span> <span class="id" title="constructor">encode_sv</span><span class="id" title="constructor">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="constructor">countable.decode</span> <span class="id" title="constructor">:=</span> <span class="id" title="constructor">decode_sv</span><span class="id" title="constructor">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="constructor">countable.decode_encode</span> <span class="id" title="constructor">:=</span> <span class="id" title="constructor">decode_sv_encode_sv</span> |}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Low&nbsp;priority&nbsp;to&nbsp;always&nbsp;pick&nbsp;'direct'&nbsp;EqDecision&nbsp;instances&nbsp;first&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="SerializableType_EqDecision"><span class="id" title="instance">SerializableType_EqDecision</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) `{<a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#A"><span class="id" title="variable">A</span></a>} : <span class="id" title="abbreviation">stdpp.base.EqDecision</span> <a class="idref" href="ConCert.Execution.Serializable.html#A"><span class="id" title="variable">A</span></a> | 1000.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">stdpp.base.decide</span> (<a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <span class="id" title="var">a'</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">eq</span>|<span class="id" title="var">neq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Execution.Serializable.html#serialize_injective"><span class="id" title="lemma">serialize_injective</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="encode_serializable_type"><span class="id" title="definition">encode_serializable_type</span></a> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} `{<a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#A"><span class="id" title="variable">A</span></a>} (<span class="id" title="var">a</span> : <a class="idref" href="ConCert.Execution.Serializable.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">countable.encode</span> (<a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#a"><span class="id" title="variable">a</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="decode_serializable_type"><span class="id" title="definition">decode_serializable_type</span></a> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} `{<a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#A"><span class="id" title="variable">A</span></a>} (<span class="id" title="var">p</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#A"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">countable.decode</span> <a class="idref" href="ConCert.Execution.Serializable.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="ConCert.Execution.Monads.html#f1146025ce6377896c1a30f88a02c8cb"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="decode_serializable_type_encode_serializable_type"><span class="id" title="lemma">decode_serializable_type_encode_serializable_type</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} `{<a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#A"><span class="id" title="variable">A</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">a</span> : <a class="idref" href="ConCert.Execution.Serializable.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#decode_serializable_type"><span class="id" title="definition">decode_serializable_type</span></a> (<a class="idref" href="ConCert.Execution.Serializable.html#encode_serializable_type"><span class="id" title="definition">encode_serializable_type</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#a"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#a"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Execution.Serializable.html#decode_serializable_type"><span class="id" title="definition">decode_serializable_type</span></a>, <a class="idref" href="ConCert.Execution.Serializable.html#encode_serializable_type"><span class="id" title="definition">encode_serializable_type</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="method">countable.decode_encode</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize_serialize"><span class="id" title="method">deserialize_serialize</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Low&nbsp;priority&nbsp;to&nbsp;always&nbsp;pick&nbsp;'direct'&nbsp;Countable&nbsp;instances&nbsp;first&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="SerializableType_Countable"><span class="id" title="instance">SerializableType_Countable</span></a> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} `{<a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#A"><span class="id" title="variable">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">countable.Countable</span> <a class="idref" href="ConCert.Execution.Serializable.html#A"><span class="id" title="variable">A</span></a> | 1000 :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <span class="id" title="constructor">countable.encode</span> <span class="id" title="constructor">:=</span> <span class="id" title="constructor">encode_serializable_type</span><span class="id" title="constructor">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="constructor">countable.decode</span> <span class="id" title="constructor">:=</span> <span class="id" title="constructor">decode_serializable_type</span><span class="id" title="constructor">;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="constructor">countable.decode_encode</span> <span class="id" title="constructor">:=</span> <span class="id" title="constructor">decode_serializable_type_encode_serializable_type</span><span class="id" title="constructor">;</span> |}.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ConCert.Execution.Serializable.html#Countable"><span class="id" title="section">Countable</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="RightInverse"><span class="id" title="section">RightInverse</span></a>.<br/>
<span class="id" title="keyword">Local Transparent</span> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="deserialize_unit_right_inverse"><span class="id" title="lemma">deserialize_unit_right_inverse</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> (<span class="id" title="var">y</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">deser_some</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ty</span> <span class="id" title="var">val</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ty</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">deser_some</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="deserialize_int_right_inverse"><span class="id" title="lemma">deserialize_int_right_inverse</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> (<span class="id" title="var">y</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">deser_some</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ty</span> <span class="id" title="var">val</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ty</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">deser_some</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="deserialize_bool_right_inverse"><span class="id" title="lemma">deserialize_bool_right_inverse</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> (<span class="id" title="var">y</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">deser_some</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ty</span> <span class="id" title="var">val</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ty</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">deser_some</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="deserialize_nat_right_inverse"><span class="id" title="lemma">deserialize_nat_right_inverse</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> (<span class="id" title="var">y</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">deser_some</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize_int_right_inverse"><span class="id" title="lemma">deserialize_int_right_inverse</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="ConCert.Execution.Serializable.html#extract_ser_value"><span class="id" title="definition">extract_ser_value</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#f1746f02f141d025b1e53605943919bf"><span class="id" title="notation">&lt;?</span></a> 0)%<span class="id" title="var">Z</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#Z.ltb_ge"><span class="id" title="lemma">Z.ltb_ge</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">deser_some</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.Znat.html#Z2Nat.id"><span class="id" title="lemma">Z2Nat.id</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="deserialize_N_right_inverse"><span class="id" title="lemma">deserialize_N_right_inverse</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> (<span class="id" title="var">y</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">deser_some</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize_int_right_inverse"><span class="id" title="lemma">deserialize_int_right_inverse</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="ConCert.Execution.Serializable.html#extract_ser_value"><span class="id" title="definition">extract_ser_value</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#f1746f02f141d025b1e53605943919bf"><span class="id" title="notation">&lt;?</span></a> 0)%<span class="id" title="var">Z</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#Z.ltb_ge"><span class="id" title="lemma">Z.ltb_ge</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">deser_some</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.Znat.html#Z2N.id"><span class="id" title="lemma">Z2N.id</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="deserialize_positive_right_inverse"><span class="id" title="lemma">deserialize_positive_right_inverse</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> (<span class="id" title="var">y</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">deser_some</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize_int_right_inverse"><span class="id" title="lemma">deserialize_int_right_inverse</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="ConCert.Execution.Serializable.html#extract_ser_value"><span class="id" title="definition">extract_ser_value</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (0 <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#f1746f02f141d025b1e53605943919bf"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="var">i</span>)%<span class="id" title="var">Z</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#Z.ltb_lt"><span class="id" title="lemma">Z.ltb_lt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">deser_some</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.BinInt.html#Z2Pos.id"><span class="id" title="lemma">Z2Pos.id</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="deserialize_serialized_value_right_inverse"><span class="id" title="lemma">deserialize_serialized_value_right_inverse</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> (<span class="id" title="var">y</span> : <a class="idref" href="ConCert.Execution.Serializable.html#SerializedValue"><span class="id" title="record">SerializedValue</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">deser_some</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">deser_some</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="deserialize_sum_right_inverse"><span class="id" title="lemma">deserialize_sum_right_inverse</span></a> : <span class="id" title="keyword">forall</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} `{<a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#A"><span class="id" title="variable">A</span></a>} `{<a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#B"><span class="id" title="variable">B</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">x</span> (<span class="id" title="var">y</span> : <a class="idref" href="ConCert.Execution.Serializable.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#B"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">x'</span> (<span class="id" title="var">y'</span> : <a class="idref" href="ConCert.Execution.Serializable.html#A"><span class="id" title="variable">A</span></a>), <a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#x'"><span class="id" title="variable">x'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y'"><span class="id" title="variable">y'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#x'"><span class="id" title="variable">x'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y'"><span class="id" title="variable">y'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">x'</span> (<span class="id" title="var">y'</span> : <a class="idref" href="ConCert.Execution.Serializable.html#B"><span class="id" title="variable">B</span></a>), <a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#x'"><span class="id" title="variable">x'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y'"><span class="id" title="variable">y'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#x'"><span class="id" title="variable">x'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y'"><span class="id" title="variable">y'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Execution.Serializable.html#serialize_sum"><span class="id" title="definition">serialize_sum</span></a>, <a class="idref" href="ConCert.Execution.Serializable.html#deserialize_sum"><span class="id" title="definition">deserialize_sum</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ty</span> <span class="id" title="var">val</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">HA</span> <span class="id" title="var">HB</span> <span class="id" title="var">deser_some</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ty</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ty1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">val</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">deser_a_some</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">deser_some</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">HA</span> <span class="id" title="tactic">in</span> <span class="id" title="var">deser_a_some</span> <span class="id" title="keyword">as</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">HB</span> <span class="id" title="tactic">in</span> <span class="id" title="var">deser_a_some</span> <span class="id" title="keyword">as</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="deserialize_product_right_inverse"><span class="id" title="lemma">deserialize_product_right_inverse</span></a> : <span class="id" title="keyword">forall</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>} `{<a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#A"><span class="id" title="variable">A</span></a>} `{<a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#B"><span class="id" title="variable">B</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">x</span> (<span class="id" title="var">y</span> : <a class="idref" href="ConCert.Execution.Serializable.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#B"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">x'</span> (<span class="id" title="var">y'</span> : <a class="idref" href="ConCert.Execution.Serializable.html#A"><span class="id" title="variable">A</span></a>), <a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#x'"><span class="id" title="variable">x'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y'"><span class="id" title="variable">y'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#x'"><span class="id" title="variable">x'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y'"><span class="id" title="variable">y'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">x'</span> (<span class="id" title="var">y'</span> : <a class="idref" href="ConCert.Execution.Serializable.html#B"><span class="id" title="variable">B</span></a>), <a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#x'"><span class="id" title="variable">x'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y'"><span class="id" title="variable">y'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#x'"><span class="id" title="variable">x'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y'"><span class="id" title="variable">y'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Execution.Serializable.html#serialize_product"><span class="id" title="definition">serialize_product</span></a>, <a class="idref" href="ConCert.Execution.Serializable.html#deserialize_product"><span class="id" title="definition">deserialize_product</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ty</span> <span class="id" title="var">val</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">HA</span> <span class="id" title="var">HB</span> <span class="id" title="var">deser_some</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ty</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">val</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">deser_a_some</span> <span class="id" title="tactic">in</span> <span class="id" title="var">deser_some</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">deser_b_some</span> <span class="id" title="tactic">in</span> <span class="id" title="var">deser_some</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">deser_some</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HA</span> <span class="id" title="tactic">in</span> <span class="id" title="var">deser_a_some</span> <span class="id" title="keyword">as</span> &lt;-.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HB</span> <span class="id" title="tactic">in</span> <span class="id" title="var">deser_b_some</span> <span class="id" title="keyword">as</span> &lt;-.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="deserialize_list_right_inverse"><span class="id" title="lemma">deserialize_list_right_inverse</span></a> : <span class="id" title="keyword">forall</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} `{<a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#A"><span class="id" title="variable">A</span></a>} (<span class="id" title="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">x</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">x'</span> (<span class="id" title="var">l'</span> : <a class="idref" href="ConCert.Execution.Serializable.html#A"><span class="id" title="variable">A</span></a>), <a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#x'"><span class="id" title="variable">x'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#l'"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#x'"><span class="id" title="variable">x'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#l'"><span class="id" title="variable">l'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#l"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;unfold&nbsp;serialize_list,&nbsp;deserialize_list.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ty</span> <span class="id" title="var">val</span>]. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">ty</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">hd</span> <span class="id" title="var">tl</span> <span class="id" title="var">IHl</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">HA</span> <span class="id" title="var">deser_some</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ty</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">val</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span>  <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="keyword">match</span> ?<span class="id" title="var">x</span> <span class="id" title="keyword">with</span> | <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">_</span> | <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <span class="id" title="var">_</span> <span class="id" title="keyword">end</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">ty</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">val</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">deser_hd_some</span> <span class="id" title="tactic">in</span> <span class="id" title="var">deser_some</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="keyword">match</span> ?<span class="id" title="var">x</span> <span class="id" title="keyword">with</span> | <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">_</span> | <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <span class="id" title="var">_</span> <span class="id" title="keyword">end</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">H1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">deser_some</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HA</span> <span class="id" title="tactic">in</span> <span class="id" title="var">deser_hd_some</span> <span class="id" title="keyword">as</span> &lt;-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Execution.Serializable.html#serialize_list"><span class="id" title="definition">serialize_list</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="deserialize_option_right_inverse"><span class="id" title="lemma">deserialize_option_right_inverse</span></a> : <span class="id" title="keyword">forall</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} `{<a class="idref" href="ConCert.Execution.Serializable.html#Serializable"><span class="id" title="class">Serializable</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#A"><span class="id" title="variable">A</span></a>} <span class="id" title="var">x</span> (<span class="id" title="var">y</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">x'</span> (<span class="id" title="var">y'</span> : <a class="idref" href="ConCert.Execution.Serializable.html#A"><span class="id" title="variable">A</span></a>), <a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#x'"><span class="id" title="variable">x'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y'"><span class="id" title="variable">y'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#x'"><span class="id" title="variable">x'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y'"><span class="id" title="variable">y'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">H</span> <span class="id" title="var">deser_some</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize_unit_right_inverse"><span class="id" title="lemma">deserialize_unit_right_inverse</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize_sum_right_inverse"><span class="id" title="lemma">deserialize_sum_right_inverse</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize_sum"><span class="id" title="definition">deserialize_sum</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">deser_some</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">u</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="deserialize_ascii_right_inverse"><span class="id" title="lemma">deserialize_ascii_right_inverse</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> (<span class="id" title="var">y</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.Ascii.html#ascii"><span class="id" title="inductive">ascii</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">deser_some</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize_N_right_inverse"><span class="id" title="lemma">deserialize_N_right_inverse</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a>, <a class="idref" href="ConCert.Execution.Serializable.html#ascii_serializable"><span class="id" title="instance">ascii_serializable</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">deser_some</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.NArith.BinNat.html#b39870dee55afcd85c6b795fb34de165"><span class="id" title="notation">&lt;?</span></a> 256)%<span class="id" title="var">N</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">deser_some</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.NArith.BinNat.html#N.ltb_lt"><span class="id" title="lemma">N.ltb_lt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.Ascii.html#N_ascii_embedding"><span class="id" title="lemma">N_ascii_embedding</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="deserialize_string_right_inverse"><span class="id" title="lemma">deserialize_string_right_inverse</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> (<span class="id" title="var">y</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Serializable.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">deser_some</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize_ascii_right_inverse"><span class="id" title="lemma">deserialize_ascii_right_inverse</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize_list_right_inverse"><span class="id" title="lemma">deserialize_list_right_inverse</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize_list"><span class="id" title="definition">deserialize_list</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">deser_some</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Strings.String.html#list_ascii_of_string_of_list_ascii"><span class="id" title="lemma">list_ascii_of_string_of_list_ascii</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local Opaque</span> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a> <a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ConCert.Execution.Serializable.html#RightInverse"><span class="id" title="section">RightInverse</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="https://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a> and <a href="https://github.com/jgallen23/toc">TOC</a>
</div>
</div>
<script>
  const elements = document.getElementsByClassName("libtitle");
  while(elements.length > 0){
        elements[0].parentNode.removeChild(elements[0]);
  }
  if (window.location.pathname.endsWith("/toc.html")) {
      const jstocDiv = document.getElementById("js-toc");
      jstocDiv.classList.remove("toc");
      jstocDiv.classList.add("jstoc-hidden");
      const jstocHeaderDiv = document.getElementById("js-toc-header");
      jstocHeaderDiv.classList.add("jstoc-hidden");
  }
  console.log(window.location.pathname);
</script>
<script type="text/javascript" src="toc.js"></script>
</body>

</html>
