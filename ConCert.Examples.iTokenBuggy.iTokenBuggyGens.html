<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<link href="toc.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="toc.html">Table of contents</a>
      <a href="https://github.com/AU-COBRA/ConCert" target="_balnk">Project Page</a>
    </span>
</div>
  <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="js-toc-header" class="toc-header">Contents:</div>
    <div id="js-toc" class="toc" data-toc="h1,h2,h3,h4" data-toc-container="doc">
    </div>
    <div id="main">
<h1 class="libtitle">Library ConCert.Examples.iTokenBuggy.iTokenBuggyGens</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.Blockchain.html#"><span class="id" title="library">Blockchain</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.Containers.html#"><span class="id" title="library">Containers</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.Serializable.html#"><span class="id" title="library">Serializable</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Execution.Test</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Execution.Test.QCTest.html#"><span class="id" title="library">QCTest</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ConCert.Examples.iTokenBuggy</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggy.html#"><span class="id" title="library">iTokenBuggy</span></a>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">MonadNotation</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a>. <span class="id" title="keyword">Import</span> <span class="id" title="var">ListNotations</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.ZArith.ZArith.html#"><span class="id" title="library">ZArith</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a name="iTokenBuggyGensInfo"><span class="id" title="module">iTokenBuggyGensInfo</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a name="iTokenBuggyGensInfo.contract_addr"><span class="id" title="axiom">contract_addr</span></a> : <a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a name="iTokenBuggyGensInfo.gAccount"><span class="id" title="axiom">gAccount</span></a> : <span class="id" title="axiom">G</span> <a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#iTokenBuggyGensInfo"><span class="id" title="module">iTokenBuggyGensInfo</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a name="iTokenBuggyGens"><span class="id" title="module">iTokenBuggyGens</span></a> (<span class="id" title="var">Info</span> : <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#iTokenBuggyGensInfo"><span class="id" title="module">iTokenBuggyGensInfo</span></a>).<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">Info</span>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="ConCert.Execution.Serializable.html#SerializedValue"><span class="id" title="record">SerializedValue</span></a> : <span class="id" title="tactic">clear</span> <span class="id" title="var">implicits</span>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="ConCert.Execution.Serializable.html#deserialize"><span class="id" title="method">deserialize</span></a> : <span class="id" title="tactic">clear</span> <span class="id" title="var">implicits</span>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> : <span class="id" title="tactic">clear</span> <span class="id" title="var">implicits</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="iTokenBuggyGens.serializeMsg"><span class="id" title="definition">serializeMsg</span></a> := @<a class="idref" href="ConCert.Execution.Serializable.html#serialize"><span class="id" title="method">serialize</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggy.html#Msg"><span class="id" title="inductive">iTokenBuggy.Msg</span></a> <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">N_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="iTokenBuggyGens.sampleFMapOpt"><span class="id" title="definition">sampleFMapOpt</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<span class="id" title="class">countable.Countable</span> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#A"><span class="id" title="variable">A</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<span class="id" title="abbreviation">base.EqDecision</span> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#A"><span class="id" title="variable">A</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">m</span> : <a class="idref" href="ConCert.Execution.Containers.html#FMap"><span class="id" title="abbreviation">FMap</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#B"><span class="id" title="variable">B</span></a>) : <span class="id" title="definition">GOpt</span> (<a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#B"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Test.TestUtils.html#sampleFMapOpt"><span class="id" title="definition">TestUtils.sampleFMapOpt</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#m"><span class="id" title="variable">m</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;Note:&nbsp;not&nbsp;optimal&nbsp;implementation.&nbsp;Should&nbsp;filter&nbsp;on&nbsp;balances&nbsp;map&nbsp;instead&nbsp;of&nbsp;first&nbsp;sampling&nbsp;and&nbsp;then&nbsp;filtering&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="iTokenBuggyGens.gApprove"><span class="id" title="definition">gApprove</span></a> (<span class="id" title="var">state</span> : <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggy.html#State"><span class="id" title="record">iTokenBuggy.State</span></a>) : <span class="id" title="definition">GOpt</span> (<a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggy.html#Msg"><span class="id" title="inductive">Msg</span></a>) :=<br/>
&nbsp;<span class="id" title="notation">'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">((</span></a><span class="id" title="var">addr1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">balance1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">addr2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">balance2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Execution.Test.TestUtils.html#sample2UniqueFMapOpt"><span class="id" title="definition">sample2UniqueFMapOpt</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#state"><span class="id" title="variable">state</span></a>.(<a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggy.html#balances"><span class="id" title="projection">balances</span></a>) <span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.NArith.BinNat.html#b39870dee55afcd85c6b795fb34de165"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#balance1"><span class="id" title="variable">balance1</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">then</span> <span class="id" title="var">amount</span> <span class="id" title="notation">&lt;-</span> <span class="id" title="axiom">choose</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>0<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#balance1"><span class="id" title="variable">balance1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="notation">;;</span> <a class="idref" href="ConCert.Execution.Test.TestUtils.html#returnGenSome"><span class="id" title="definition">returnGenSome</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#addr1"><span class="id" title="variable">addr1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggy.html#approve"><span class="id" title="constructor">approve</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#addr2"><span class="id" title="variable">addr2</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#amount"><span class="id" title="variable">amount</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="keyword">if</span> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.NArith.BinNat.html#b39870dee55afcd85c6b795fb34de165"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#balance2"><span class="id" title="variable">balance2</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">then</span> <span class="id" title="var">amount</span> <span class="id" title="notation">&lt;-</span> <span class="id" title="axiom">choose</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>0<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#balance2"><span class="id" title="variable">balance2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="notation">;;</span> <a class="idref" href="ConCert.Execution.Test.TestUtils.html#returnGenSome"><span class="id" title="definition">returnGenSome</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#addr2"><span class="id" title="variable">addr2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggy.html#approve"><span class="id" title="constructor">approve</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#addr1"><span class="id" title="variable">addr1</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#amount"><span class="id" title="variable">amount</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="axiom">returnGen</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="iTokenBuggyGens.gTransfer_from"><span class="id" title="definition">gTransfer_from</span></a> (<span class="id" title="var">state</span> : <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggy.html#State"><span class="id" title="record">iTokenBuggy.State</span></a>) : <span class="id" title="definition">GOpt</span> (<a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggy.html#Msg"><span class="id" title="inductive">Msg</span></a>) :=<br/>
&nbsp;<span class="id" title="notation">'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">allower</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">allowance_map</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#iTokenBuggyGens.sampleFMapOpt"><span class="id" title="definition">sampleFMapOpt</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#state"><span class="id" title="variable">state</span></a>.(<a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggy.html#allowances"><span class="id" title="projection">allowances</span></a>) <span class="id" title="notation">;;</span><br/>
&nbsp;<span class="id" title="notation">'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">delegate</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">allowance</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#iTokenBuggyGens.sampleFMapOpt"><span class="id" title="definition">sampleFMapOpt</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#allowance_map"><span class="id" title="variable">allowance_map</span></a> <span class="id" title="notation">;;</span><br/>
&nbsp;<span class="id" title="notation">'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">receiver</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#iTokenBuggyGens.sampleFMapOpt"><span class="id" title="definition">sampleFMapOpt</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#state"><span class="id" title="variable">state</span></a>.(<a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggy.html#balances"><span class="id" title="projection">balances</span></a>) <span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">allower_balance</span> := (<a class="idref" href="ConCert.Execution.Test.TestUtils.html#FMap_find_"><span class="id" title="definition">FMap_find_</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#allower"><span class="id" title="variable">allower</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#state"><span class="id" title="variable">state</span></a>.(<a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggy.html#balances"><span class="id" title="projection">balances</span></a>) 0) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">amount</span> <span class="id" title="notation">&lt;-</span> <span class="id" title="notation">(</span><span class="id" title="keyword">if</span> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#allower_balance"><span class="id" title="variable">allower_balance</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.NArith.BinNat.html#59a5ff4a6cbb127625aba1a377a243d1"><span class="id" title="notation">=?</span></a> 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <span class="id" title="axiom">returnGen</span> 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="axiom">choose</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>0<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.NArith.BinNat.html#N.min"><span class="id" title="definition">N.min</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#allowance"><span class="id" title="variable">allowance</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#allower_balance"><span class="id" title="variable">allower_balance</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Test.TestUtils.html#returnGenSome"><span class="id" title="definition">returnGenSome</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#delegate"><span class="id" title="variable">delegate</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggy.html#transfer_from"><span class="id" title="constructor">transfer_from</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#allower"><span class="id" title="variable">allower</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#receiver"><span class="id" title="variable">receiver</span></a>  <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#amount"><span class="id" title="variable">amount</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="iTokenBuggyGens.gMint"><span class="id" title="definition">gMint</span></a> (<span class="id" title="var">c</span> : <a class="idref" href="ConCert.Execution.Blockchain.html#Environment"><span class="id" title="record">Environment</span></a>) (<span class="id" title="var">state</span> : <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggy.html#State"><span class="id" title="record">iTokenBuggy.State</span></a>) : <span class="id" title="definition">GOpt</span> (<a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggy.html#Msg"><span class="id" title="inductive">Msg</span></a>) := <br/>
&nbsp;<span class="comment">(*&nbsp;'(addr,&nbsp;_)&nbsp;&lt;-&nbsp;sampleFMapOpt&nbsp;state.(balances)&nbsp;;;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">addr</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#Info.gAccount"><span class="id" title="axiom">gAccount</span></a> <span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="var">amount</span> <span class="id" title="notation">&lt;-</span> <span class="id" title="axiom">choose</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>0<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> 2<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="notation">;;</span> <span class="comment">(*&nbsp;fix&nbsp;nr&nbsp;of&nbsp;minted&nbsp;tokens&nbsp;to&nbsp;0,&nbsp;1,&nbsp;or&nbsp;2*)</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Test.TestUtils.html#returnGenSome"><span class="id" title="definition">returnGenSome</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#addr"><span class="id" title="variable">addr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggy.html#mint"><span class="id" title="constructor">mint</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#amount"><span class="id" title="variable">amount</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="iTokenBuggyGens.gBurn"><span class="id" title="definition">gBurn</span></a> (<span class="id" title="var">state</span> : <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggy.html#State"><span class="id" title="record">iTokenBuggy.State</span></a>) : <span class="id" title="definition">GOpt</span> (<a class="idref" href="ConCert.Execution.Blockchain.html#Address"><span class="id" title="method">Address</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggy.html#Msg"><span class="id" title="inductive">Msg</span></a>) := <br/>
&nbsp;<span class="id" title="notation">'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">addr</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">balance</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Execution.Test.TestUtils.html#sampleFMapOpt_filter"><span class="id" title="definition">sampleFMapOpt_filter</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#state"><span class="id" title="variable">state</span></a>.(<a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggy.html#balances"><span class="id" title="projection">balances</span></a>) (<span class="id" title="keyword">fun</span> '<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">balance</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.NArith.BinNat.html#b39870dee55afcd85c6b795fb34de165"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#balance"><span class="id" title="variable">balance</span></a>) <span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="var">amount</span> <span class="id" title="notation">&lt;-</span> <span class="id" title="axiom">choose</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>0<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#balance"><span class="id" title="variable">balance</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.NArith.BinNat.html#64708cc1fcff61c206ed571fe7828ea8"><span class="id" title="notation">+</span></a> 2<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="notation">;;</span> <span class="comment">(*&nbsp;we&nbsp;purposely&nbsp;give&nbsp;it&nbsp;a&nbsp;small&nbsp;chance&nbsp;to&nbsp;try&nbsp;to&nbsp;burn&nbsp;more&nbsp;than&nbsp;allowed,&nbsp;hence&nbsp;+2*)</span><br/>
&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Test.TestUtils.html#returnGenSome"><span class="id" title="definition">returnGenSome</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#addr"><span class="id" title="variable">addr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggy.html#burn"><span class="id" title="constructor">burn</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#amount"><span class="id" title="variable">amount</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local Close</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">N_scope</span>.<br/>
<span class="comment">(*&nbsp;Main&nbsp;generator.&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="iTokenBuggyGens.giTokenBuggyAction"><span class="id" title="definition">giTokenBuggyAction</span></a> (<span class="id" title="var">env</span> : <a class="idref" href="ConCert.Execution.Blockchain.html#Environment"><span class="id" title="record">Environment</span></a>) : <span class="id" title="definition">GOpt</span> <a class="idref" href="ConCert.Execution.Blockchain.html#Action"><span class="id" title="record">Action</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">call</span> <span class="id" title="var">caller_addr</span> <span class="id" title="var">contract_addr</span> <span class="id" title="var">msg</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Test.TestUtils.html#returnGenSome"><span class="id" title="definition">returnGenSome</span></a> {|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Blockchain.html#build_act"><span class="id" title="constructor">act_origin</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#build_act"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#build_act"><span class="id" title="constructor">caller_addr</span></a><a class="idref" href="ConCert.Execution.Blockchain.html#build_act"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Blockchain.html#build_act"><span class="id" title="constructor">act_from</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#build_act"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#build_act"><span class="id" title="constructor">caller_addr</span></a><a class="idref" href="ConCert.Execution.Blockchain.html#build_act"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Execution.Blockchain.html#build_act"><span class="id" title="constructor">act_body</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#build_act"><span class="id" title="constructor">:=</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#build_act"><span class="id" title="constructor">act_call</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#build_act"><span class="id" title="constructor">contract_addr</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#build_act"><span class="id" title="constructor">0%</span></a><a class="idref" href="ConCert.Execution.Blockchain.html#build_act"><span class="id" title="constructor">Z</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#build_act"><span class="id" title="constructor">(</span></a><a class="idref" href="ConCert.Execution.Blockchain.html#build_act"><span class="id" title="constructor">serializeMsg</span></a> <a class="idref" href="ConCert.Execution.Blockchain.html#build_act"><span class="id" title="constructor">msg</span></a><a class="idref" href="ConCert.Execution.Blockchain.html#build_act"><span class="id" title="constructor">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|} <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">state</span> <span class="id" title="notation">&lt;-</span> <span class="id" title="axiom">returnGen</span> (<a class="idref" href="ConCert.Execution.Test.TestUtils.html#get_contract_state"><span class="id" title="definition">get_contract_state</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggy.html#State"><span class="id" title="record">iTokenBuggy.State</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#env"><span class="id" title="variable">env</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#Info.contract_addr"><span class="id" title="axiom">contract_addr</span></a>) <span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="axiom">backtrack</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;mint&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="notation">'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">caller</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">msg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#iTokenBuggyGens.gMint"><span class="id" title="definition">gMint</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#env"><span class="id" title="variable">env</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#state"><span class="id" title="variable">state</span></a> <span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#call"><span class="id" title="variable">call</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#caller"><span class="id" title="variable">caller</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#Info.contract_addr"><span class="id" title="axiom">contract_addr</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#msg"><span class="id" title="variable">msg</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;burn&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="notation">'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">caller</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">msg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#iTokenBuggyGens.gBurn"><span class="id" title="definition">gBurn</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#state"><span class="id" title="variable">state</span></a> <span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#call"><span class="id" title="variable">call</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#caller"><span class="id" title="variable">caller</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#Info.contract_addr"><span class="id" title="axiom">contract_addr</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#msg"><span class="id" title="variable">msg</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;transfer_from&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>4<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="notation">'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">caller</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">msg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#iTokenBuggyGens.gTransfer_from"><span class="id" title="definition">gTransfer_from</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#state"><span class="id" title="variable">state</span></a> <span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#call"><span class="id" title="variable">call</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#caller"><span class="id" title="variable">caller</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#Info.contract_addr"><span class="id" title="axiom">contract_addr</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#msg"><span class="id" title="variable">msg</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;approve&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>2<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="notation">'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">caller</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">msg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#iTokenBuggyGens.gApprove"><span class="id" title="definition">gApprove</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#state"><span class="id" title="variable">state</span></a> <span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#call"><span class="id" title="variable">call</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#caller"><span class="id" title="variable">caller</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#Info.contract_addr"><span class="id" title="axiom">contract_addr</span></a> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#msg"><span class="id" title="variable">msg</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.2/stdlib//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ConCert.Examples.iTokenBuggy.iTokenBuggyGens.html#iTokenBuggyGens"><span class="id" title="module">iTokenBuggyGens</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="https://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a> and <a href="https://github.com/jgallen23/toc">TOC</a>
</div>
</div>
<script>
  const elements = document.getElementsByClassName("libtitle");
  while(elements.length > 0){
        elements[0].parentNode.removeChild(elements[0]);
  }
  if (window.location.pathname.endsWith("/toc.html")) {
      const jstocDiv = document.getElementById("js-toc");
      jstocDiv.classList.remove("toc");
      jstocDiv.classList.add("jstoc-hidden");
      const jstocHeaderDiv = document.getElementById("js-toc-header");
      jstocHeaderDiv.classList.add("jstoc-hidden");
  }
  console.log(window.location.pathname);
</script>
<script type="text/javascript" src="toc.js"></script>
</body>

</html>
